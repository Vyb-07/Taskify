[INFO] Scanning for projects...
[INFO] 
[INFO] ------------------------< com.taskify:taskify >-------------------------
[INFO] Building taskify 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ taskify ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.14.1:compile (default-compile) @ taskify ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ taskify ---
[INFO] Copying 1 resource from src/test/resources to target/test-classes
[INFO] 
[INFO] --- compiler:3.14.1:testCompile (default-testCompile) @ taskify ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- surefire:3.5.4:test (default-test) @ taskify ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.taskify.taskify.cache.TaskCacheIntegrationTest
23:02:14.012 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.taskify.taskify.cache.TaskCacheIntegrationTest]: TaskCacheIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
23:02:14.080 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.cache.TaskCacheIntegrationTest
23:02:14.160 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.7)

2026-02-01 23:02:14.308 INFO  [main] c.t.t.cache.TaskCacheIntegrationTest - [correlationId=, userId=] - Starting TaskCacheIntegrationTest using Java 21.0.1 with PID 45614 (started by vyb in /Users/vyb/Documents/Projects/taskify)
2026-02-01 23:02:14.308 DEBUG [main] c.t.t.cache.TaskCacheIntegrationTest - [correlationId=, userId=] - Running with Spring Boot v3.5.7, Spring v6.2.12
2026-02-01 23:02:14.309 INFO  [main] c.t.t.cache.TaskCacheIntegrationTest - [correlationId=, userId=] - The following 1 profile is active: "test"
2026-02-01 23:02:14.852 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - [correlationId=, userId=] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-01 23:02:14.887 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - [correlationId=, userId=] - Finished Spring Data repository scanning in 30 ms. Found 8 JPA repository interfaces.
2026-02-01 23:02:15.147 INFO  [main] o.h.jpa.internal.util.LogHelper - [correlationId=, userId=] - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-01 23:02:15.170 INFO  [main] org.hibernate.Version - [correlationId=, userId=] - HHH000412: Hibernate ORM core version 6.6.33.Final
2026-02-01 23:02:15.182 INFO  [main] o.h.c.i.RegionFactoryInitiator - [correlationId=, userId=] - HHH000026: Second-level cache disabled
2026-02-01 23:02:15.292 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - [correlationId=, userId=] - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-01 23:02:15.303 INFO  [main] com.zaxxer.hikari.HikariDataSource - [correlationId=, userId=] - HikariPool-1 - Starting...
2026-02-01 23:02:15.392 INFO  [main] com.zaxxer.hikari.pool.HikariPool - [correlationId=, userId=] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2026-02-01 23:02:15.393 INFO  [main] com.zaxxer.hikari.HikariDataSource - [correlationId=, userId=] - HikariPool-1 - Start completed.
2026-02-01 23:02:15.405 WARN  [main] org.hibernate.orm.deprecation - [correlationId=, userId=] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-01 23:02:15.413 INFO  [main] o.hibernate.orm.connections.pooling - [correlationId=, userId=] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-01 23:02:15.841 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - [correlationId=, userId=] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: drop table if exists audit_logs cascade 
Hibernate: drop table if exists daily_intent_tasks cascade 
Hibernate: drop table if exists daily_intents cascade 
Hibernate: drop table if exists idempotency_keys cascade 
Hibernate: drop table if exists intent_buckets cascade 
Hibernate: drop table if exists refresh_tokens cascade 
Hibernate: drop table if exists roles cascade 
Hibernate: drop table if exists tasks cascade 
Hibernate: drop table if exists user_roles cascade 
Hibernate: drop table if exists users cascade 
Hibernate: create table audit_logs (actor_user_id bigint, id bigint generated by default as identity, timestamp timestamp(6) not null, actor_role varchar(255), ip_address varchar(255), metadata TEXT, target_id varchar(255), action enum ('DAILY_CHECK_IN_CREATE','DAILY_CHECK_IN_UPDATE','FOCUS_MODE_USAGE','INTENT_BUCKET_CREATE','INTENT_BUCKET_DELETE','LOGIN_FAILURE','LOGIN_SUCCESS','LOGOUT','STAGNANT_MODE_USAGE','TASK_CREATE','TASK_DELETE','TASK_UPDATE','TOKEN_REFRESH') not null, target_type enum ('AUTH','TASK','USER'), primary key (id))
Hibernate: create table daily_intent_tasks (daily_intent_id bigint not null, task_id bigint)
Hibernate: create table daily_intents (date date not null, created_at timestamp(6) not null, id bigint generated by default as identity, updated_at timestamp(6) not null, user_id bigint not null, note varchar(255), primary key (id), unique (user_id, date))
Hibernate: create table idempotency_keys (response_status integer not null, created_at timestamp(6) not null, expires_at timestamp(6) not null, id bigint generated by default as identity, user_id bigint not null, endpoint varchar(255) not null, idempotency_key varchar(255) not null, request_hash varchar(255) not null, response_body TEXT, primary key (id), constraint idx_idempotency_key_user unique (idempotency_key, user_id))
Hibernate: create table intent_buckets (version integer, created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), user_id bigint not null, description varchar(500), color varchar(255), name varchar(255) not null, primary key (id), unique (user_id, name))
Hibernate: create table refresh_tokens (revoked boolean not null, expiry_date timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint, token varchar(255) not null unique, primary key (id))
Hibernate: create table roles (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id))
Hibernate: create table tasks (deleted boolean not null, version integer, created_at timestamp(6), due_date timestamp(6), id bigint generated by default as identity, intent_bucket_id bigint, last_modified_at timestamp(6), user_id bigint not null, rationale varchar(500), description varchar(1000), title varchar(255) not null, priority enum ('HIGH','LOW','MEDIUM'), status enum ('COMPLETED','IN_PROGRESS','PENDING'), primary key (id))
Hibernate: create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
Hibernate: create table users (created_at timestamp(6), id bigint generated by default as identity, email varchar(255) not null, password varchar(255) not null, username varchar(255) not null, primary key (id), unique (username), unique (email))
Hibernate: alter table if exists daily_intent_tasks add constraint FK7svgswbqu8wenph5sih4su3x0 foreign key (daily_intent_id) references daily_intents
Hibernate: alter table if exists refresh_tokens add constraint FK1lih5y2npsf8u5o3vhdb9y0os foreign key (user_id) references users
Hibernate: alter table if exists tasks add constraint FK5sb4jslui6srum0s1vlhlo8pi foreign key (intent_bucket_id) references intent_buckets
Hibernate: alter table if exists tasks add constraint FK6s1ob9k4ihi75xbxe2w0ylsdh foreign key (user_id) references users
Hibernate: alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
Hibernate: alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2026-02-01 23:02:15.869 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - [correlationId=, userId=] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-01 23:02:16.087 INFO  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - [correlationId=, userId=] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-02-01 23:02:16.256 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - [correlationId=, userId=] - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-01 23:02:16.532 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [correlationId=, userId=] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-01 23:02:16.737 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - [correlationId=, userId=] - Exposing 3 endpoints beneath base path '/actuator'
2026-02-01 23:02:16.942 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'dailyCheckIn' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 23:02:16.944 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'taskVersions' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 23:02:16.944 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'intentOverview' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 23:02:16.945 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'weeklyReview' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 23:02:17.043 INFO  [main] c.t.t.cache.TaskCacheIntegrationTest - [correlationId=, userId=] - Started TaskCacheIntegrationTest in 2.887 seconds (process running for 3.453)
Mockito is currently self-attaching to enable the inline-mock-maker. This will no longer work in future releases of the JDK. Please add Mockito as an agent to your build as described in Mockito's documentation: https://javadoc.io/doc/org.mockito/mockito-core/latest/org.mockito/org/mockito/Mockito.html#0.3
WARNING: A Java agent has been loaded dynamically (/Users/vyb/.m2/repository/net/bytebuddy/byte-buddy-agent/1.17.8/byte-buddy-agent-1.17.8.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? offset ? rows fetch first ? rows only
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from users where id=?
Hibernate: delete from users where id=?
Hibernate: delete from users where id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? offset ? rows fetch first ? rows only
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from users where id=?
Hibernate: delete from users where id=?
Hibernate: delete from users where id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? offset ? rows fetch first ? rows only
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: delete from tasks where id=? and version=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from users where id=?
Hibernate: delete from users where id=?
Hibernate: delete from users where id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: update tasks set created_at=?,deleted=?,description=?,due_date=?,intent_bucket_id=?,last_modified_at=?,user_id=?,priority=?,rationale=?,status=?,title=?,version=? where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.622 s -- in com.taskify.taskify.cache.TaskCacheIntegrationTest
[INFO] Running com.taskify.taskify.security.RateLimitIntegrationTest
2026-02-01 23:02:17.570 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.security.RateLimitIntegrationTest]: RateLimitIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:17.576 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.security.RateLimitIntegrationTest
2026-02-01 23:02:17.577 INFO  [main] o.s.b.d.r.RestartApplicationListener - [correlationId=, userId=] - Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.7)

2026-02-01 23:02:17.591 INFO  [main] c.t.t.s.RateLimitIntegrationTest - [correlationId=, userId=] - Starting RateLimitIntegrationTest using Java 21.0.1 with PID 45614 (started by vyb in /Users/vyb/Documents/Projects/taskify)
2026-02-01 23:02:17.591 DEBUG [main] c.t.t.s.RateLimitIntegrationTest - [correlationId=, userId=] - Running with Spring Boot v3.5.7, Spring v6.2.12
2026-02-01 23:02:17.591 INFO  [main] c.t.t.s.RateLimitIntegrationTest - [correlationId=, userId=] - The following 1 profile is active: "test"
2026-02-01 23:02:17.728 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - [correlationId=, userId=] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-01 23:02:17.738 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - [correlationId=, userId=] - Finished Spring Data repository scanning in 8 ms. Found 8 JPA repository interfaces.
2026-02-01 23:02:17.793 INFO  [main] o.h.jpa.internal.util.LogHelper - [correlationId=, userId=] - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-01 23:02:17.794 INFO  [main] o.h.c.i.RegionFactoryInitiator - [correlationId=, userId=] - HHH000026: Second-level cache disabled
2026-02-01 23:02:17.797 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - [correlationId=, userId=] - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-01 23:02:17.797 INFO  [main] com.zaxxer.hikari.HikariDataSource - [correlationId=, userId=] - HikariPool-2 - Starting...
2026-02-01 23:02:17.797 INFO  [main] com.zaxxer.hikari.pool.HikariPool - [correlationId=, userId=] - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2026-02-01 23:02:17.798 INFO  [main] com.zaxxer.hikari.HikariDataSource - [correlationId=, userId=] - HikariPool-2 - Start completed.
2026-02-01 23:02:17.798 WARN  [main] org.hibernate.orm.deprecation - [correlationId=, userId=] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-01 23:02:17.798 INFO  [main] o.hibernate.orm.connections.pooling - [correlationId=, userId=] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-01 23:02:17.830 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - [correlationId=, userId=] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: drop table if exists audit_logs cascade 
Hibernate: drop table if exists daily_intent_tasks cascade 
Hibernate: drop table if exists daily_intents cascade 
Hibernate: drop table if exists idempotency_keys cascade 
Hibernate: drop table if exists intent_buckets cascade 
Hibernate: drop table if exists refresh_tokens cascade 
Hibernate: drop table if exists roles cascade 
Hibernate: drop table if exists tasks cascade 
Hibernate: drop table if exists user_roles cascade 
Hibernate: drop table if exists users cascade 
Hibernate: create table audit_logs (actor_user_id bigint, id bigint generated by default as identity, timestamp timestamp(6) not null, actor_role varchar(255), ip_address varchar(255), metadata TEXT, target_id varchar(255), action enum ('DAILY_CHECK_IN_CREATE','DAILY_CHECK_IN_UPDATE','FOCUS_MODE_USAGE','INTENT_BUCKET_CREATE','INTENT_BUCKET_DELETE','LOGIN_FAILURE','LOGIN_SUCCESS','LOGOUT','STAGNANT_MODE_USAGE','TASK_CREATE','TASK_DELETE','TASK_UPDATE','TOKEN_REFRESH') not null, target_type enum ('AUTH','TASK','USER'), primary key (id))
Hibernate: create table daily_intent_tasks (daily_intent_id bigint not null, task_id bigint)
Hibernate: create table daily_intents (date date not null, created_at timestamp(6) not null, id bigint generated by default as identity, updated_at timestamp(6) not null, user_id bigint not null, note varchar(255), primary key (id), unique (user_id, date))
Hibernate: create table idempotency_keys (response_status integer not null, created_at timestamp(6) not null, expires_at timestamp(6) not null, id bigint generated by default as identity, user_id bigint not null, endpoint varchar(255) not null, idempotency_key varchar(255) not null, request_hash varchar(255) not null, response_body TEXT, primary key (id), constraint idx_idempotency_key_user unique (idempotency_key, user_id))
Hibernate: create table intent_buckets (version integer, created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), user_id bigint not null, description varchar(500), color varchar(255), name varchar(255) not null, primary key (id), unique (user_id, name))
Hibernate: create table refresh_tokens (revoked boolean not null, expiry_date timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint, token varchar(255) not null unique, primary key (id))
Hibernate: create table roles (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id))
Hibernate: create table tasks (deleted boolean not null, version integer, created_at timestamp(6), due_date timestamp(6), id bigint generated by default as identity, intent_bucket_id bigint, last_modified_at timestamp(6), user_id bigint not null, rationale varchar(500), description varchar(1000), title varchar(255) not null, priority enum ('HIGH','LOW','MEDIUM'), status enum ('COMPLETED','IN_PROGRESS','PENDING'), primary key (id))
Hibernate: create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
Hibernate: create table users (created_at timestamp(6), id bigint generated by default as identity, email varchar(255) not null, password varchar(255) not null, username varchar(255) not null, primary key (id), unique (username), unique (email))
Hibernate: alter table if exists daily_intent_tasks add constraint FK7svgswbqu8wenph5sih4su3x0 foreign key (daily_intent_id) references daily_intents
Hibernate: alter table if exists refresh_tokens add constraint FK1lih5y2npsf8u5o3vhdb9y0os foreign key (user_id) references users
Hibernate: alter table if exists tasks add constraint FK5sb4jslui6srum0s1vlhlo8pi foreign key (intent_bucket_id) references intent_buckets
Hibernate: alter table if exists tasks add constraint FK6s1ob9k4ihi75xbxe2w0ylsdh foreign key (user_id) references users
Hibernate: alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
Hibernate: alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2026-02-01 23:02:17.839 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - [correlationId=, userId=] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-01 23:02:17.876 INFO  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - [correlationId=, userId=] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-02-01 23:02:17.962 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [correlationId=, userId=] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-01 23:02:18.023 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - [correlationId=, userId=] - Exposing 3 endpoints beneath base path '/actuator'
2026-02-01 23:02:18.087 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'dailyCheckIn' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 23:02:18.087 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'taskVersions' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 23:02:18.087 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'intentOverview' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 23:02:18.087 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'weeklyReview' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 23:02:18.123 DEBUG [main] c.t.t.s.JwtAuthenticationFilter - [correlationId=, userId=] - Filter 'jwtAuthenticationFilter' configured for use
2026-02-01 23:02:18.123 DEBUG [main] c.t.taskify.security.RateLimitFilter - [correlationId=, userId=] - Filter 'rateLimitFilter' configured for use
2026-02-01 23:02:18.123 DEBUG [main] c.t.t.security.RequestLoggingFilter - [correlationId=, userId=] - Filter 'requestLoggingFilter' configured for use
2026-02-01 23:02:18.124 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext - [correlationId=, userId=] - Initializing Spring TestDispatcherServlet ''
2026-02-01 23:02:18.124 INFO  [main] o.s.t.w.s.TestDispatcherServlet - [correlationId=, userId=] - Initializing Servlet ''
2026-02-01 23:02:18.124 INFO  [main] o.s.t.w.s.TestDispatcherServlet - [correlationId=, userId=] - Completed initialization in 0 ms
2026-02-01 23:02:18.135 INFO  [main] c.t.t.s.RateLimitIntegrationTest - [correlationId=, userId=] - Started RateLimitIntegrationTest in 0.558 seconds (process running for 4.545)
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
2026-02-01 23:02:18.159 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e2a95885-626c-4fd6-816a-6af48a00bd18, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.421 INFO  [main] o.s.api.AbstractOpenApiResource - [correlationId=e2a95885-626c-4fd6-816a-6af48a00bd18, userId=] - Init duration for springdoc-openapi is: 247 ms
2026-02-01 23:02:18.435 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e2a95885-626c-4fd6-816a-6af48a00bd18, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=276ms
2026-02-01 23:02:18.440 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=554fe5b2-c9c6-4ab6-889a-645c5e6ba656, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.444 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=554fe5b2-c9c6-4ab6-889a-645c5e6ba656, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=4ms
2026-02-01 23:02:18.445 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=985b8a4c-bccd-4496-8c09-57e0a92e9715, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.449 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=985b8a4c-bccd-4496-8c09-57e0a92e9715, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=4ms
2026-02-01 23:02:18.451 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=0367e9d4-88ba-45c5-8883-16d6bb6d2bac, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.455 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=0367e9d4-88ba-45c5-8883-16d6bb6d2bac, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=4ms
2026-02-01 23:02:18.456 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=16750d05-1ffa-42ea-91a7-37261f85f11c, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.459 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=16750d05-1ffa-42ea-91a7-37261f85f11c, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.460 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=0bbbc28f-5963-44ae-a2ec-b88200ddadae, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.463 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=0bbbc28f-5963-44ae-a2ec-b88200ddadae, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.464 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2f83b3eb-6ac5-4c55-8713-546d0e842dd1, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.467 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2f83b3eb-6ac5-4c55-8713-546d0e842dd1, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.468 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=540ac7e8-6611-4d74-99aa-d3839cea1256, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.471 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=540ac7e8-6611-4d74-99aa-d3839cea1256, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.472 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2c911107-b130-4b8e-9601-c6f6275a1ddf, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.475 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2c911107-b130-4b8e-9601-c6f6275a1ddf, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.476 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5fdbb250-a907-4f71-9815-c88bee55bbd4, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.479 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5fdbb250-a907-4f71-9815-c88bee55bbd4, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.480 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=22324a78-e5f0-4565-a018-8452f2326285, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.483 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=22324a78-e5f0-4565-a018-8452f2326285, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.484 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=535aae61-d282-48cc-a1f1-49d45296e48b, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.487 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=535aae61-d282-48cc-a1f1-49d45296e48b, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.487 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a194747d-370b-4524-9d3f-ed3347ff6290, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.490 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a194747d-370b-4524-9d3f-ed3347ff6290, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.491 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a4f4691a-38f9-4892-b00d-8dada52fa669, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.494 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a4f4691a-38f9-4892-b00d-8dada52fa669, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.495 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=08dcc691-749a-4220-8928-168fd53d2a37, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.498 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=08dcc691-749a-4220-8928-168fd53d2a37, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.499 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=aefcd3a6-d6e1-413c-b2ce-65dbc4f92af9, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.502 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=aefcd3a6-d6e1-413c-b2ce-65dbc4f92af9, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.503 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=06bcad33-4bda-451f-aa27-f8cc67c81665, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.506 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=06bcad33-4bda-451f-aa27-f8cc67c81665, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.506 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=18f8d208-2da5-4d1e-8e73-a4763c5b4d62, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.510 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=18f8d208-2da5-4d1e-8e73-a4763c5b4d62, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=4ms
2026-02-01 23:02:18.510 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b59a2379-e795-48c3-9a34-b191afde45a3, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.514 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b59a2379-e795-48c3-9a34-b191afde45a3, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=4ms
2026-02-01 23:02:18.515 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=001ad217-ecef-4ae0-89fc-3836e044d74c, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.518 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=001ad217-ecef-4ae0-89fc-3836e044d74c, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.518 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e5d55119-b6b2-42d8-bac2-05eba6f80dba, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.521 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e5d55119-b6b2-42d8-bac2-05eba6f80dba, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.523 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ff863e34-113a-411a-9fb2-fc625655069d, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.526 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ff863e34-113a-411a-9fb2-fc625655069d, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.526 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6e90e940-8c28-431b-8e1d-4b3bd4be9d37, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.529 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6e90e940-8c28-431b-8e1d-4b3bd4be9d37, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.530 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=27e65a22-58c3-4f12-87f6-cb86c8c18f51, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.532 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=27e65a22-58c3-4f12-87f6-cb86c8c18f51, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.533 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=36df51ce-c885-460d-ba16-8dbdd555a6ae, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.536 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=36df51ce-c885-460d-ba16-8dbdd555a6ae, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=3ms
2026-02-01 23:02:18.537 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=807ea994-e1dd-46c6-a851-3d66ea9e8fe1, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.538 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=807ea994-e1dd-46c6-a851-3d66ea9e8fe1, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.538 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5e6a75d0-9e48-419e-9a81-ee465f4a16de, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.540 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5e6a75d0-9e48-419e-9a81-ee465f4a16de, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.546 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a1b56c6b-2505-498d-89f5-3275e4bbb778, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.548 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a1b56c6b-2505-498d-89f5-3275e4bbb778, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.548 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6f938dc6-533c-4527-a9b3-1cc7511cc3ab, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.550 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6f938dc6-533c-4527-a9b3-1cc7511cc3ab, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.550 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1f55e0fd-210f-4e0d-8021-91a189b9e94f, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.552 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1f55e0fd-210f-4e0d-8021-91a189b9e94f, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.552 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a89d4713-e038-489e-8afa-1ae75a6dcb45, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.553 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a89d4713-e038-489e-8afa-1ae75a6dcb45, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.554 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=464018f7-f702-4816-b76a-6a864ef1323a, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.556 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=464018f7-f702-4816-b76a-6a864ef1323a, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.556 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c44f02d7-6617-4fb7-a048-3ecd0506e3a2, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.558 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c44f02d7-6617-4fb7-a048-3ecd0506e3a2, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.558 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=52f53ab8-784e-49b5-a85f-29b845742a0f, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.559 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=52f53ab8-784e-49b5-a85f-29b845742a0f, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.560 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=0b802092-7baf-452a-9aa6-e9be6aebbf68, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.561 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=0b802092-7baf-452a-9aa6-e9be6aebbf68, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.562 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d8e53706-0cf7-45c3-b734-addc063206a8, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.563 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d8e53706-0cf7-45c3-b734-addc063206a8, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.563 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=304c6567-cbfb-4cf4-bac1-29e4ce006c5d, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.565 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=304c6567-cbfb-4cf4-bac1-29e4ce006c5d, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.565 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3dc9bd8c-7121-42cb-ba2e-20fa1e0b0794, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.566 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3dc9bd8c-7121-42cb-ba2e-20fa1e0b0794, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.567 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ff653b50-b0c1-455b-8c91-1d1c41425214, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.568 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ff653b50-b0c1-455b-8c91-1d1c41425214, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.569 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6f86f388-c476-499e-9fca-a8d89d08a6a2, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.570 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6f86f388-c476-499e-9fca-a8d89d08a6a2, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.570 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4aef3527-e9cd-4bf4-b9b6-84493b5da3ae, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.571 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4aef3527-e9cd-4bf4-b9b6-84493b5da3ae, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.572 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8d982b45-147d-4533-b0e7-c444bb80109b, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.573 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8d982b45-147d-4533-b0e7-c444bb80109b, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.574 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=01776406-f827-421a-8fef-3c6ded23aea3, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.575 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=01776406-f827-421a-8fef-3c6ded23aea3, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.576 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=140e9db6-5dea-400b-a814-01cb79921d61, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.577 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=140e9db6-5dea-400b-a814-01cb79921d61, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.577 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c21ba18c-e60e-40d5-a635-6c213cef6497, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.578 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c21ba18c-e60e-40d5-a635-6c213cef6497, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.579 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=45095458-9541-4fc6-8455-8189e4937873, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.580 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=45095458-9541-4fc6-8455-8189e4937873, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.580 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=829cd5e5-30a0-4677-8cb1-452b9b526619, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.581 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=829cd5e5-30a0-4677-8cb1-452b9b526619, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.582 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ae9af343-8afd-4ead-ae7c-034e9b3e8c4e, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.583 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ae9af343-8afd-4ead-ae7c-034e9b3e8c4e, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.584 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=83b3d12d-e684-458b-9bca-0f2a47dadf1b, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.585 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=83b3d12d-e684-458b-9bca-0f2a47dadf1b, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.585 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=698b27e8-9ce4-409e-a9a6-fbddf30e214a, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.587 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=698b27e8-9ce4-409e-a9a6-fbddf30e214a, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=2ms
2026-02-01 23:02:18.587 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=48462a2b-28d8-49a0-ac2a-783b32c42e68, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.588 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=48462a2b-28d8-49a0-ac2a-783b32c42e68, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.589 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4b61249d-e715-4b22-b53d-954acae93577, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.590 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4b61249d-e715-4b22-b53d-954acae93577, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.590 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c698aac7-f6b1-4b0c-b292-2ee5758e0655, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.591 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c698aac7-f6b1-4b0c-b292-2ee5758e0655, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.592 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3807c954-447f-4966-b985-58831c1b4660, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.593 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3807c954-447f-4966-b985-58831c1b4660, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
2026-02-01 23:02:18.593 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=42a9a93b-a23c-497d-baa0-2ca40bffe85d, userId=] - Incoming request: method=GET, uri=/v3/api-docs, clientIp=127.0.0.1
2026-02-01 23:02:18.594 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=42a9a93b-a23c-497d-baa0-2ca40bffe85d, userId=] - Outgoing response: method=GET, uri=/v3/api-docs, status=200, duration=1ms
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:18.640 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b765eaeb-1d4e-46d8-abc3-1c67f6533da1, userId=] - Incoming request: method=POST, uri=/api/v1/auth/register, clientIp=127.0.0.1
Hibernate: select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only
Hibernate: select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:18.734 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b765eaeb-1d4e-46d8-abc3-1c67f6533da1, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/register, status=201, duration=94ms
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.735 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=07eb464b-e439-4cf0-9c5f-b8630d598166, userId=] - Incoming request: method=POST, uri=/api/v1/auth/login, clientIp=127.0.0.1
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into refresh_tokens (expiry_date,revoked,token,user_id,id) values (?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.908 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=07eb464b-e439-4cf0-9c5f-b8630d598166, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/login, status=200, duration=173ms
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.920 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8743c2ba-07f3-44ed-b098-8d678f733b03, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:18.932 WARN  [main] o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - [correlationId=8743c2ba-07f3-44ed-b098-8d678f733b03, userId=1] - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2026-02-01 23:02:18.937 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8743c2ba-07f3-44ed-b098-8d678f733b03, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=17ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.942 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1736455a-2ee2-4d94-88a0-889921f76699, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.943 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1736455a-2ee2-4d94-88a0-889921f76699, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.946 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9d237ea4-4b23-4058-9816-93ded4283fc9, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.947 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9d237ea4-4b23-4058-9816-93ded4283fc9, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.950 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2fbf7b28-23e0-4a72-b64b-b652d0b54c4c, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.951 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2fbf7b28-23e0-4a72-b64b-b652d0b54c4c, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.955 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4549da13-198e-4210-994d-a5ea06efde70, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.956 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4549da13-198e-4210-994d-a5ea06efde70, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.959 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=49da117f-e68c-40c2-be09-ea71b4d9295a, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.959 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=49da117f-e68c-40c2-be09-ea71b4d9295a, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.962 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d5c5b287-418f-4960-b516-c135c809246d, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.963 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d5c5b287-418f-4960-b516-c135c809246d, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.966 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3123dcee-ec4f-4e2c-9c76-d355510e3a08, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.967 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3123dcee-ec4f-4e2c-9c76-d355510e3a08, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.969 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f426e6d3-e507-4cbc-90db-89e83709c9b7, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.970 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f426e6d3-e507-4cbc-90db-89e83709c9b7, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.973 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=bbf48009-d38b-4b81-a750-12c17adaf4ad, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.973 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=bbf48009-d38b-4b81-a750-12c17adaf4ad, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.976 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f1eaead1-13ad-41a3-8ade-655bd983db26, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.976 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f1eaead1-13ad-41a3-8ade-655bd983db26, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.979 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5a949d2b-a9aa-4391-aec9-111c8064b7d4, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.980 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5a949d2b-a9aa-4391-aec9-111c8064b7d4, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.982 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3c327e71-109d-4a6b-bd39-66efff9898ac, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.983 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3c327e71-109d-4a6b-bd39-66efff9898ac, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.986 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=492a6f97-dc53-43ca-ad53-b5a15d540d60, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.987 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=492a6f97-dc53-43ca-ad53-b5a15d540d60, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.991 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=86a78036-a597-4707-8af7-4f2e90591e4a, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.991 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=86a78036-a597-4707-8af7-4f2e90591e4a, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.995 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=7a37ed5d-c5b0-440e-b0f0-af331b91f480, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.996 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=7a37ed5d-c5b0-440e-b0f0-af331b91f480, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:18.998 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=fc49b591-6335-4fec-abe9-8ac2d0f2a797, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:18.999 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=fc49b591-6335-4fec-abe9-8ac2d0f2a797, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.002 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2a8e9f46-c065-4237-a0c4-75f7a9a74a68, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.003 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2a8e9f46-c065-4237-a0c4-75f7a9a74a68, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.007 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2a1eae4c-9a9d-4a81-bd38-107363408628, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.007 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2a1eae4c-9a9d-4a81-bd38-107363408628, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.011 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=eef21b2f-e547-4e11-afee-59a168d6865d, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.012 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=eef21b2f-e547-4e11-afee-59a168d6865d, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.015 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b84b1940-2777-4a17-a7fc-3ad5483ea1d5, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.016 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b84b1940-2777-4a17-a7fc-3ad5483ea1d5, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.019 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=924161c7-4477-423c-87ed-2ea4f3c2e794, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.020 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=924161c7-4477-423c-87ed-2ea4f3c2e794, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.023 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5ab6752a-c4c0-46b7-a11e-17e019a16750, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.024 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5ab6752a-c4c0-46b7-a11e-17e019a16750, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.027 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=aa961f4f-6db7-44da-be20-3c100d9dda71, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.027 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=aa961f4f-6db7-44da-be20-3c100d9dda71, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.030 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3141502b-bf39-4f00-a51d-2086e9d22f3d, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.031 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3141502b-bf39-4f00-a51d-2086e9d22f3d, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.035 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=055365cf-cf3d-4772-ad42-e7d44f0c660d, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.036 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=055365cf-cf3d-4772-ad42-e7d44f0c660d, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.041 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f5c2485d-964c-4447-ad81-4cead4b31bd6, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.042 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f5c2485d-964c-4447-ad81-4cead4b31bd6, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.046 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=11021b28-5c55-4f24-a0b1-e992ac199a35, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.047 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=11021b28-5c55-4f24-a0b1-e992ac199a35, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.051 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5b409cb9-8c64-47b8-9a35-907ab53b8b73, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.052 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5b409cb9-8c64-47b8-9a35-907ab53b8b73, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.056 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=915f5860-53f7-42aa-90d9-d7fdeb24109d, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.057 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=915f5860-53f7-42aa-90d9-d7fdeb24109d, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.061 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4ce750fb-2fbe-40b0-8977-8196d295745a, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.061 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4ce750fb-2fbe-40b0-8977-8196d295745a, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.064 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=fe174644-0146-4808-a83f-51eaef30008e, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.064 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=fe174644-0146-4808-a83f-51eaef30008e, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.067 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=36b39a3a-cc6d-435e-8492-6b3ef40b61d1, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.068 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=36b39a3a-cc6d-435e-8492-6b3ef40b61d1, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.072 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=323a7037-34b4-469b-a1bb-7050fdf444e1, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.073 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=323a7037-34b4-469b-a1bb-7050fdf444e1, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.076 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=741adcb1-bfe6-48a0-90ac-d6ee2b4fe58f, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.077 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=741adcb1-bfe6-48a0-90ac-d6ee2b4fe58f, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.079 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=7b0a1213-11b4-4fa6-9cf9-791ee5135fe6, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.080 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=7b0a1213-11b4-4fa6-9cf9-791ee5135fe6, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.083 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8fac2d2d-7cfe-4257-a108-6b02bba8bbe0, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.083 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8fac2d2d-7cfe-4257-a108-6b02bba8bbe0, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.088 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=94b33116-a47d-4388-ac3a-7717d597ddb6, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.089 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=94b33116-a47d-4388-ac3a-7717d597ddb6, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.093 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1b0e5c3e-b5f6-40b0-87f2-fa9c55561a6b, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.093 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1b0e5c3e-b5f6-40b0-87f2-fa9c55561a6b, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.096 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=24f60b50-ca48-4f12-acfc-7a8a97856838, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.097 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=24f60b50-ca48-4f12-acfc-7a8a97856838, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.100 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4d038892-86cd-45b9-a0b5-f9774ceaded5, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.101 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4d038892-86cd-45b9-a0b5-f9774ceaded5, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.106 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1b12fa5b-9908-4937-b60d-8099e4fbebad, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.107 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1b12fa5b-9908-4937-b60d-8099e4fbebad, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.111 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ee7f4fe5-874f-4227-af5d-0c46ec6fb934, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.112 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ee7f4fe5-874f-4227-af5d-0c46ec6fb934, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.115 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d8a013c2-948e-4c4a-ba8b-5beee64322ff, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.115 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d8a013c2-948e-4c4a-ba8b-5beee64322ff, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=0ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.129 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b3f57c75-20da-4435-b22a-e0c19d284e0f, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.130 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b3f57c75-20da-4435-b22a-e0c19d284e0f, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.135 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9395185e-4b52-4a8e-a5c8-3cda86c23c72, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.136 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9395185e-4b52-4a8e-a5c8-3cda86c23c72, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.145 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4e8a3bd7-22b4-4732-afaf-bb4f4f4f2ede, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.146 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4e8a3bd7-22b4-4732-afaf-bb4f4f4f2ede, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.157 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=16348935-9f6c-44a7-9560-a53758d94a14, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.159 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=16348935-9f6c-44a7-9560-a53758d94a14, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=2ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.162 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a545293d-4714-4abb-8f4b-91116eaadbb2, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.163 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a545293d-4714-4abb-8f4b-91116eaadbb2, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:19.166 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=385fe0a0-99bd-434c-afb5-c2febaa112a1, userId=1] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
2026-02-01 23:02:19.167 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=385fe0a0-99bd-434c-afb5-c2febaa112a1, userId=1] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.604 s -- in com.taskify.taskify.security.RateLimitIntegrationTest
[INFO] Running com.taskify.taskify.controller.v1.IntentBucketIntegrationTest
2026-02-01 23:02:19.175 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.controller.v1.IntentBucketIntegrationTest]: IntentBucketIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:19.182 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.v1.IntentBucketIntegrationTest
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:19.199 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=310055ca-0cdc-4bd0-967d-c764d6c2e76d, userId=] - Incoming request: method=GET, uri=/api/v1/intents/overview, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from users where id=?
2026-02-01 23:02:19.201 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=310055ca-0cdc-4bd0-967d-c764d6c2e76d, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:19.202 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=310055ca-0cdc-4bd0-967d-c764d6c2e76d, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:19.204 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=310055ca-0cdc-4bd0-967d-c764d6c2e76d, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.getCurrentUser(IntentBucketServiceImpl.java:182)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.getOverview(IntentBucketServiceImpl.java:124)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl$$SpringCGLIB$$0.getOverview(<generated>)
	at com.taskify.taskify.controller.v1.IntentBucketController.getOverview(IntentBucketController.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldGenerateOverviewWithInsights(IntentBucketIntegrationTest.java:196)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 232 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 265 common frames omitted
2026-02-01 23:02:19.210 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=310055ca-0cdc-4bd0-967d-c764d6c2e76d, userId=] - Outgoing response: method=GET, uri=/api/v1/intents/overview, status=500, duration=11ms

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/v1/intents/overview
       Parameters = {}
          Headers = []
             Body = null
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.IntentBucketController
           Method = com.taskify.taskify.controller.v1.IntentBucketController#getOverview()

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"310055ca-0cdc-4bd0-967d-c764d6c2e76d", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:19.204852","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/intents/overview"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/v1/intents/overview
       Parameters = {}
          Headers = []
             Body = null
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.IntentBucketController
           Method = com.taskify.taskify.controller.v1.IntentBucketController#getOverview()

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"310055ca-0cdc-4bd0-967d-c764d6c2e76d", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:19.204852","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/intents/overview"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
2026-02-01 23:02:19.223 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6350c4a5-31e9-40ee-819a-fd54310d2652, userId=] - Incoming request: method=GET, uri=/api/v1/intents, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from users where id=?
2026-02-01 23:02:19.225 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=6350c4a5-31e9-40ee-819a-fd54310d2652, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:19.225 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=6350c4a5-31e9-40ee-819a-fd54310d2652, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:19.225 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=6350c4a5-31e9-40ee-819a-fd54310d2652, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.getCurrentUser(IntentBucketServiceImpl.java:182)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.getAllIntents(IntentBucketServiceImpl.java:83)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl$$SpringCGLIB$$0.getAllIntents(<generated>)
	at com.taskify.taskify.controller.v1.IntentBucketController.getAllIntents(IntentBucketController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldMaintainOwnershipIsolation(IntentBucketIntegrationTest.java:127)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 223 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 256 common frames omitted
2026-02-01 23:02:19.226 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6350c4a5-31e9-40ee-819a-fd54310d2652, userId=] - Outgoing response: method=GET, uri=/api/v1/intents, status=500, duration=3ms

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/v1/intents
       Parameters = {}
          Headers = []
             Body = null
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.IntentBucketController
           Method = com.taskify.taskify.controller.v1.IntentBucketController#getAllIntents()

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"6350c4a5-31e9-40ee-819a-fd54310d2652", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:19.225577","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/intents"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:19.235 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=46bf1cdb-99e3-4bce-81ed-294087d269b5, userId=] - Incoming request: method=DELETE, uri=/api/v1/intents/4, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from users where id=?
2026-02-01 23:02:19.236 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=46bf1cdb-99e3-4bce-81ed-294087d269b5, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:19.236 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=46bf1cdb-99e3-4bce-81ed-294087d269b5, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:19.236 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=46bf1cdb-99e3-4bce-81ed-294087d269b5, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.getCurrentUser(IntentBucketServiceImpl.java:182)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.deleteIntent(IntentBucketServiceImpl.java:95)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl$$SpringCGLIB$$0.deleteIntent(<generated>)
	at com.taskify.taskify.controller.v1.IntentBucketController.deleteIntent(IntentBucketController.java:45)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldClearIntentOnDeletionButKeepTask(IntentBucketIntegrationTest.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 235 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 268 common frames omitted
2026-02-01 23:02:19.238 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=46bf1cdb-99e3-4bce-81ed-294087d269b5, userId=] - Outgoing response: method=DELETE, uri=/api/v1/intents/4, status=500, duration=3ms

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /api/v1/intents/4
       Parameters = {}
          Headers = []
             Body = null
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.IntentBucketController
           Method = com.taskify.taskify.controller.v1.IntentBucketController#deleteIntent(Long)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"46bf1cdb-99e3-4bce-81ed-294087d269b5", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:19.236969","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/intents/4"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
2026-02-01 23:02:19.246 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=256e0ea1-b391-452c-8f19-e52daafc3f46, userId=] - Incoming request: method=POST, uri=/api/v1/intents, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from users where id=?
2026-02-01 23:02:19.259 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=256e0ea1-b391-452c-8f19-e52daafc3f46, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:19.259 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=256e0ea1-b391-452c-8f19-e52daafc3f46, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:19.260 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=256e0ea1-b391-452c-8f19-e52daafc3f46, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.getCurrentUser(IntentBucketServiceImpl.java:182)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.createIntent(IntentBucketServiceImpl.java:59)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl$$SpringCGLIB$$0.createIntent(<generated>)
	at com.taskify.taskify.controller.v1.IntentBucketController.createIntent(IntentBucketController.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldEnforceNameUniquenessPerUser(IntentBucketIntegrationTest.java:113)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 228 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 261 common frames omitted
2026-02-01 23:02:19.260 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=256e0ea1-b391-452c-8f19-e52daafc3f46, userId=] - Outgoing response: method=POST, uri=/api/v1/intents, status=500, duration=14ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/intents
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"49"]
             Body = {"name":"Family","description":null,"color":null}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.IntentBucketController
           Method = com.taskify.taskify.controller.v1.IntentBucketController#createIntent(IntentBucketRequest)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"256e0ea1-b391-452c-8f19-e52daafc3f46", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:19.260179","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/intents"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
2026-02-01 23:02:19.269 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4e2239b6-24bf-443f-9126-76206f1ebc2a, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from users where id=?
2026-02-01 23:02:19.274 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=4e2239b6-24bf-443f-9126-76206f1ebc2a, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:19.274 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=4e2239b6-24bf-443f-9126-76206f1ebc2a, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:19.274 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=4e2239b6-24bf-443f-9126-76206f1ebc2a, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.TaskServiceImpl.getCurrentUser(TaskServiceImpl.java:367)
	at com.taskify.taskify.service.impl.TaskServiceImpl.createTask(TaskServiceImpl.java:70)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.service.impl.TaskServiceImpl$$SpringCGLIB$$0.createTask(<generated>)
	at com.taskify.taskify.controller.v1.TaskController.createTask(TaskController.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.controller.v1.TaskController$$SpringCGLIB$$0.createTask(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldAssociateTaskWithIntent(IntentBucketIntegrationTest.java:144)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 240 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 273 common frames omitted
2026-02-01 23:02:19.275 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4e2239b6-24bf-443f-9126-76206f1ebc2a, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=500, duration=6ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/tasks
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"133"]
             Body = {"title":"Go for a run","description":null,"status":"PENDING","priority":"MEDIUM","dueDate":null,"rationale":null,"intentBucketId":6}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.TaskController
           Method = com.taskify.taskify.controller.v1.TaskController#createTask(TaskRequest, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"4e2239b6-24bf-443f-9126-76206f1ebc2a", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:19.27453","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/tasks"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:19.282 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e19e1cea-2f93-4cc3-9514-a335b9c44a36, userId=] - Incoming request: method=POST, uri=/api/v1/intents, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from users where id=?
2026-02-01 23:02:19.283 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=e19e1cea-2f93-4cc3-9514-a335b9c44a36, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:19.283 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=e19e1cea-2f93-4cc3-9514-a335b9c44a36, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:19.284 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=e19e1cea-2f93-4cc3-9514-a335b9c44a36, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.getCurrentUser(IntentBucketServiceImpl.java:182)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl.createIntent(IntentBucketServiceImpl.java:59)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.service.impl.IntentBucketServiceImpl$$SpringCGLIB$$0.createIntent(<generated>)
	at com.taskify.taskify.controller.v1.IntentBucketController.createIntent(IntentBucketController.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldCreateAndListIntents(IntentBucketIntegrationTest.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 228 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(1 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 261 common frames omitted
2026-02-01 23:02:19.284 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e19e1cea-2f93-4cc3-9514-a335b9c44a36, userId=] - Outgoing response: method=POST, uri=/api/v1/intents, status=500, duration=2ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/intents
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"100"]
             Body = {"name":"Career Growth","description":"Tasks for learning and career advancement","color":"#3498db"}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.IntentBucketController
           Method = com.taskify.taskify.controller.v1.IntentBucketController#createIntent(IntentBucketRequest)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"e19e1cea-2f93-4cc3-9514-a335b9c44a36", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:19.284071","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/intents"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
[ERROR] Tests run: 6, Failures: 6, Errors: 0, Skipped: 0, Time elapsed: 0.112 s <<< FAILURE! -- in com.taskify.taskify.controller.v1.IntentBucketIntegrationTest
[ERROR] com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldGenerateOverviewWithInsights -- Time elapsed: 0.032 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldGenerateOverviewWithInsights(IntentBucketIntegrationTest.java:198)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldMaintainOwnershipIsolation -- Time elapsed: 0.011 s <<< FAILURE!
java.lang.AssertionError: Status expected:<200> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldMaintainOwnershipIsolation(IntentBucketIntegrationTest.java:128)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldClearIntentOnDeletionButKeepTask -- Time elapsed: 0.011 s <<< FAILURE!
java.lang.AssertionError: Status expected:<204> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldClearIntentOnDeletionButKeepTask(IntentBucketIntegrationTest.java:165)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldEnforceNameUniquenessPerUser -- Time elapsed: 0.022 s <<< FAILURE!
java.lang.AssertionError: Status expected:<400> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldEnforceNameUniquenessPerUser(IntentBucketIntegrationTest.java:116)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldAssociateTaskWithIntent -- Time elapsed: 0.014 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldAssociateTaskWithIntent(IntentBucketIntegrationTest.java:147)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldCreateAndListIntents -- Time elapsed: 0.009 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.controller.v1.IntentBucketIntegrationTest.shouldCreateAndListIntents(IntentBucketIntegrationTest.java:94)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[INFO] Running com.taskify.taskify.controller.TaskControllerTest
2026-02-01 23:02:19.287 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.controller.TaskControllerTest]: TaskControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:19.292 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.TaskControllerTest
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,r1_0.user_id,r1_1.id,r1_1.name,u1_0.username from users u1_0 left join user_roles r1_0 on u1_0.id=r1_0.user_id left join roles r1_1 on r1_1.id=r1_0.role_id where u1_0.id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:19.300 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=bfcd54cf-9e96-4a1e-814d-046131cc8089, userId=] - Incoming request: method=POST, uri=/api/v1/auth/register, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from refresh_tokens where id=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only
Hibernate: select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:19.378 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=bfcd54cf-9e96-4a1e-814d-046131cc8089, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/register, status=201, duration=78ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:19.379 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=90bfd1b0-3b59-4de2-b669-ddce3c42cdeb, userId=] - Incoming request: method=POST, uri=/api/v1/auth/login, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into refresh_tokens (expiry_date,revoked,token,user_id,id) values (?,?,?,?,default)
2026-02-01 23:02:19.467 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=90bfd1b0-3b59-4de2-b669-ddce3c42cdeb, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/login, status=200, duration=88ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:19.471 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=65dbba80-f84c-4508-a537-4ce729c53561, userId=14] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:19.476 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=65dbba80-f84c-4508-a537-4ce729c53561, userId=14] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=5ms
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,r1_0.user_id,r1_1.id,r1_1.name,u1_0.username from users u1_0 left join user_roles r1_0 on u1_0.id=r1_0.user_id left join roles r1_1 on r1_1.id=r1_0.role_id where u1_0.id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:19.503 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8b46f18b-0866-4919-8b9a-74f3c1d1774a, userId=] - Incoming request: method=POST, uri=/api/v1/auth/register, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from refresh_tokens where id=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only
Hibernate: select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:19.580 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8b46f18b-0866-4919-8b9a-74f3c1d1774a, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/register, status=201, duration=77ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:19.581 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=952084d2-931b-40f5-afea-a4f7265c2aee, userId=] - Incoming request: method=POST, uri=/api/v1/auth/login, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into refresh_tokens (expiry_date,revoked,token,user_id,id) values (?,?,?,?,default)
2026-02-01 23:02:19.655 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=952084d2-931b-40f5-afea-a4f7265c2aee, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/login, status=200, duration=74ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,r1_0.user_id,r1_1.id,r1_1.name,u1_0.username from users u1_0 left join user_roles r1_0 on u1_0.id=r1_0.user_id left join roles r1_1 on r1_1.id=r1_0.role_id where u1_0.id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:19.663 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1520e9ec-52c9-4dc2-adea-f33dd83b6d35, userId=] - Incoming request: method=POST, uri=/api/v1/auth/register, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from refresh_tokens where id=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only
Hibernate: select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:19.738 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1520e9ec-52c9-4dc2-adea-f33dd83b6d35, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/register, status=201, duration=75ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:19.739 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=05a4cbe8-15bb-4044-a2b5-32503fb9615a, userId=] - Incoming request: method=POST, uri=/api/v1/auth/login, clientIp=127.0.0.1
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into refresh_tokens (expiry_date,revoked,token,user_id,id) values (?,?,?,?,default)
2026-02-01 23:02:19.812 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=05a4cbe8-15bb-4044-a2b5-32503fb9615a, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/login, status=200, duration=73ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:19.815 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1e163073-0ec4-4e75-ac04-ea1bcc2da8fd, userId=16] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:19.819 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1e163073-0ec4-4e75-ac04-ea1bcc2da8fd, userId=16] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=4ms
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,r1_0.user_id,r1_1.id,r1_1.name,u1_0.username from users u1_0 left join user_roles r1_0 on u1_0.id=r1_0.user_id left join roles r1_1 on r1_1.id=r1_0.role_id where u1_0.id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:19.837 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=26c5988b-7ef4-46f2-97d9-4b4c474281b0, userId=] - Incoming request: method=POST, uri=/api/v1/auth/register, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from refresh_tokens where id=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only
Hibernate: select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:19.913 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=26c5988b-7ef4-46f2-97d9-4b4c474281b0, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/register, status=201, duration=76ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:19.914 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5c040104-9914-481e-aff4-6b4cae9c6355, userId=] - Incoming request: method=POST, uri=/api/v1/auth/login, clientIp=127.0.0.1
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into refresh_tokens (expiry_date,revoked,token,user_id,id) values (?,?,?,?,default)
2026-02-01 23:02:19.990 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5c040104-9914-481e-aff4-6b4cae9c6355, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/login, status=200, duration=76ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:19.993 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3bae468f-0ed3-4cfe-b7a1-0e9b55cb02d3, userId=17] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:19.995 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=3bae468f-0ed3-4cfe-b7a1-0e9b55cb02d3, userId=17] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=2ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:19.997 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2036a2ff-16d7-49cf-912b-9c1636b8aeb0, userId=17] - Incoming request: method=GET, uri=/api/v1/tasks/6, clientIp=127.0.0.1
2026-02-01 23:02:19.997 WARN  [main] c.t.t.config.DeprecationInterceptor - [correlationId=2036a2ff-16d7-49cf-912b-9c1636b8aeb0, userId=17] - Access to deprecated endpoint: method=GET, path=/api/v1/tasks/6, user=testuser
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:20.000 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2036a2ff-16d7-49cf-912b-9c1636b8aeb0, userId=17] - Outgoing response: method=GET, uri=/api/v1/tasks/6, status=200, duration=3ms
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.714 s -- in com.taskify.taskify.controller.TaskControllerTest
[INFO] Running com.taskify.taskify.controller.TaskReviewIntegrationTest
2026-02-01 23:02:20.003 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.controller.TaskReviewIntegrationTest]: TaskReviewIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.003 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.TaskReviewIntegrationTest
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select al1_0.id,al1_0.action,al1_0.actor_role,al1_0.actor_user_id,al1_0.ip_address,al1_0.metadata,al1_0.target_id,al1_0.target_type,al1_0.timestamp from audit_logs al1_0
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,r1_0.user_id,r1_1.id,r1_1.name,u1_0.username from users u1_0 left join user_roles r1_0 on u1_0.id=r1_0.user_id left join roles r1_1 on r1_1.id=r1_0.role_id where u1_0.id=?
Hibernate: delete from refresh_tokens where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from users where id=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:20.084 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6d7023bd-cc1c-4948-b5f6-525a8c9208d0, userId=] - Incoming request: method=GET, uri=/api/v1/tasks/review, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.created_at between ? and ?
Hibernate: select count(al1_0.id) from audit_logs al1_0 where al1_0.actor_user_id=? and al1_0.action=? and al1_0.timestamp between ? and ?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.status<>? and (t1_0.due_date<? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<?)
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.status<>? and t1_0.due_date<=?
Hibernate: select count(al1_0.id) from audit_logs al1_0 where al1_0.actor_user_id=? and al1_0.action=? and al1_0.timestamp between ? and ?
2026-02-01 23:02:20.093 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=6d7023bd-cc1c-4948-b5f6-525a8c9208d0, userId=] - Weekly review generated for user: reviewer. Created: 0, Completed: 0
2026-02-01 23:02:20.095 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=6d7023bd-cc1c-4948-b5f6-525a8c9208d0, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks/review, status=200, duration=11ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select al1_0.id,al1_0.action,al1_0.actor_role,al1_0.actor_user_id,al1_0.ip_address,al1_0.metadata,al1_0.target_id,al1_0.target_type,al1_0.timestamp from audit_logs al1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from users where id=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.177 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f7a356a8-cc15-46f5-9371-a4c3ce50eef1, userId=] - Incoming request: method=GET, uri=/api/v1/tasks/review, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.created_at between ? and ?
Hibernate: select count(al1_0.id) from audit_logs al1_0 where al1_0.actor_user_id=? and al1_0.action=? and al1_0.timestamp between ? and ?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.status<>? and (t1_0.due_date<? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<?)
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.status<>? and t1_0.due_date<=?
Hibernate: select count(al1_0.id) from audit_logs al1_0 where al1_0.actor_user_id=? and al1_0.action=? and al1_0.timestamp between ? and ?
2026-02-01 23:02:20.181 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=f7a356a8-cc15-46f5-9371-a4c3ce50eef1, userId=] - Weekly review generated for user: reviewer. Created: 2, Completed: 1
2026-02-01 23:02:20.182 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f7a356a8-cc15-46f5-9371-a4c3ce50eef1, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks/review, status=200, duration=5ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from tasks where id=? and version=?
Hibernate: select al1_0.id,al1_0.action,al1_0.actor_role,al1_0.actor_user_id,al1_0.ip_address,al1_0.metadata,al1_0.target_id,al1_0.target_type,al1_0.timestamp from audit_logs al1_0
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from users where id=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.266 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=0d73f343-70d2-4734-b015-c17e1c6f1238, userId=] - Incoming request: method=GET, uri=/api/v1/tasks/review, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.created_at between ? and ?
Hibernate: select count(al1_0.id) from audit_logs al1_0 where al1_0.actor_user_id=? and al1_0.action=? and al1_0.timestamp between ? and ?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.status<>? and (t1_0.due_date<? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<?)
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.status<>? and t1_0.due_date<=?
Hibernate: select count(al1_0.id) from audit_logs al1_0 where al1_0.actor_user_id=? and al1_0.action=? and al1_0.timestamp between ? and ?
2026-02-01 23:02:20.271 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=0d73f343-70d2-4734-b015-c17e1c6f1238, userId=] - Weekly review generated for user: reviewer. Created: 1, Completed: 3
2026-02-01 23:02:20.271 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=0d73f343-70d2-4734-b015-c17e1c6f1238, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks/review, status=200, duration=5ms
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.271 s -- in com.taskify.taskify.controller.TaskReviewIntegrationTest
[INFO] Running com.taskify.taskify.controller.TaskRationaleIntegrationTest
2026-02-01 23:02:20.274 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.controller.TaskRationaleIntegrationTest]: TaskRationaleIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.275 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.TaskRationaleIntegrationTest
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
2026-02-01 23:02:20.280 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9a2ee6e9-af03-4f74-b1f5-36c8987dc192, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.282 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9a2ee6e9-af03-4f74-b1f5-36c8987dc192, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=2ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
2026-02-01 23:02:20.286 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=25123577-a1e4-4ae0-98a4-6b9cf83a6a8d, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.288 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=25123577-a1e4-4ae0-98a4-6b9cf83a6a8d, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=2ms
2026-02-01 23:02:20.289 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1fa57723-c0d5-4c62-b40c-a1c129f5819f, userId=] - Incoming request: method=PUT, uri=/api/v1/tasks/11, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.291 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1fa57723-c0d5-4c62-b40c-a1c129f5819f, userId=] - Outgoing response: method=PUT, uri=/api/v1/tasks/11, status=200, duration=2ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
2026-02-01 23:02:20.295 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9b9b3798-1f26-4213-a6f3-9749d4596ea1, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.297 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9b9b3798-1f26-4213-a6f3-9749d4596ea1, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=2ms
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 s -- in com.taskify.taskify.controller.TaskRationaleIntegrationTest
[INFO] Running com.taskify.taskify.controller.DailyCheckInIntegrationTest
2026-02-01 23:02:20.301 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.controller.DailyCheckInIntegrationTest]: DailyCheckInIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.302 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.DailyCheckInIntegrationTest
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into daily_intents (created_at,date,note,updated_at,user_id,id) values (?,?,?,?,?,default)
2026-02-01 23:02:20.311 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=48cb78c5-a511-4f08-9ae2-99ded894a434, userId=] - Incoming request: method=GET, uri=/api/v1/day/today, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0 where di1_0.user_id=? and di1_0.date=?
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0 where di1_0.user_id=? and di1_0.date=?
Hibernate: update tasks set created_at=?,deleted=?,description=?,due_date=?,intent_bucket_id=?,last_modified_at=?,user_id=?,priority=?,rationale=?,status=?,title=?,version=? where id=? and version=?
Hibernate: insert into daily_intent_tasks (daily_intent_id,task_id) values (?,?)
Hibernate: insert into daily_intent_tasks (daily_intent_id,task_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id in (?,?)
2026-02-01 23:02:20.317 DEBUG [main] c.t.t.s.impl.DailyCheckInServiceImpl - [correlationId=48cb78c5-a511-4f08-9ae2-99ded894a434, userId=] - User checkinUser carried over 1 tasks from yesterday.
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? and t1_0.user_id=? and t1_0.status<>? order by t1_0.due_date,t1_0.priority desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.319 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=48cb78c5-a511-4f08-9ae2-99ded894a434, userId=] - Focus Mode used by user: checkinUser. Selected 1 tasks based on urgency and priority.
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.320 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=48cb78c5-a511-4f08-9ae2-99ded894a434, userId=] - Outgoing response: method=GET, uri=/api/v1/day/today, status=200, duration=9ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.334 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e5e30638-d547-4f34-a5f3-526c328f0336, userId=] - Incoming request: method=POST, uri=/api/v1/day/check-in, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: delete from tasks where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id in (?)
2026-02-01 23:02:20.338 WARN  [main] c.t.t.e.GlobalExceptionHandler - [correlationId=e5e30638-d547-4f34-a5f3-526c328f0336, userId=] - Access denied: You do not own task ID: 17
2026-02-01 23:02:20.338 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e5e30638-d547-4f34-a5f3-526c328f0336, userId=] - Outgoing response: method=POST, uri=/api/v1/day/check-in, status=403, duration=4ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.344 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=bb12fcff-ae72-4377-a13b-b6869bf3dea4, userId=] - Incoming request: method=POST, uri=/api/v1/day/check-in, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: delete from tasks where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id in (?)
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0 where di1_0.user_id=? and di1_0.date=?
Hibernate: insert into daily_intents (created_at,date,note,updated_at,user_id,id) values (?,?,?,?,?,default)
2026-02-01 23:02:20.346 DEBUG [main] c.t.t.s.impl.DailyCheckInServiceImpl - [correlationId=bb12fcff-ae72-4377-a13b-b6869bf3dea4, userId=] - User checkinUser checked in for 2026-02-01. Intent ID: 2
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0 where di1_0.user_id=? and di1_0.date=?
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0 where di1_0.user_id=? and di1_0.date=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id in (?)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? and t1_0.user_id=? and t1_0.status<>? order by t1_0.due_date,t1_0.priority desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.352 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=bb12fcff-ae72-4377-a13b-b6869bf3dea4, userId=] - Focus Mode used by user: checkinUser. Selected 2 tasks based on urgency and priority.
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.353 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=bb12fcff-ae72-4377-a13b-b6869bf3dea4, userId=] - Outgoing response: method=POST, uri=/api/v1/day/check-in, status=200, duration=9ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into daily_intents (created_at,date,note,updated_at,user_id,id) values (?,?,?,?,?,default)
2026-02-01 23:02:20.361 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d4f0f47d-f771-4fdc-a388-e42df413684f, userId=] - Incoming request: method=GET, uri=/api/v1/day/today, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0 where di1_0.user_id=? and di1_0.date=?
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0 where di1_0.user_id=? and di1_0.date=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into daily_intent_tasks (daily_intent_id,task_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? and t1_0.user_id=? and t1_0.status<>? order by t1_0.due_date,t1_0.priority desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.364 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=d4f0f47d-f771-4fdc-a388-e42df413684f, userId=] - Focus Mode used by user: checkinUser. Selected 2 tasks based on urgency and priority.
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.365 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d4f0f47d-f771-4fdc-a388-e42df413684f, userId=] - Outgoing response: method=GET, uri=/api/v1/day/today, status=200, duration=4ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.370 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d7f7a08b-7a62-4740-ba03-3dc687edb930, userId=] - Incoming request: method=GET, uri=/api/v1/day/today, clientIp=127.0.0.1
2026-02-01 23:02:20.371 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d7f7a08b-7a62-4740-ba03-3dc687edb930, userId=] - Outgoing response: method=GET, uri=/api/v1/day/today, status=200, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select di1_0.id,di1_0.created_at,di1_0.date,di1_0.note,di1_0.updated_at,di1_0.user_id from daily_intents di1_0
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.377 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=7ce2fada-ea42-4418-a99c-dfbdfb871020, userId=] - Incoming request: method=POST, uri=/api/v1/day/check-in, clientIp=127.0.0.1
2026-02-01 23:02:20.380 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=7ce2fada-ea42-4418-a99c-dfbdfb871020, userId=] - Outgoing response: method=POST, uri=/api/v1/day/check-in, status=400, duration=3ms
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.081 s -- in com.taskify.taskify.controller.DailyCheckInIntegrationTest
[INFO] Running com.taskify.taskify.controller.FocusModeIntegrationTest
2026-02-01 23:02:20.383 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.controller.FocusModeIntegrationTest]: FocusModeIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.384 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.FocusModeIntegrationTest
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:20.391 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=fa57215a-32e9-4f04-9799-e34f7082e370, userId=] - Incoming request: method=GET, uri=/api/v1/tasks/focus, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: update tasks set created_at=?,deleted=?,description=?,due_date=?,intent_bucket_id=?,last_modified_at=?,user_id=?,priority=?,rationale=?,status=?,title=?,version=? where id=? and version=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? and t1_0.user_id=? and t1_0.status<>? order by t1_0.due_date,t1_0.priority desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.394 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=fa57215a-32e9-4f04-9799-e34f7082e370, userId=] - Focus Mode used by user: otherUser. Selected 0 tasks based on urgency and priority.
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.395 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=fa57215a-32e9-4f04-9799-e34f7082e370, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks/focus, status=200, duration=4ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.402 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d6f1489d-d951-4e79-87e4-f7f2ce66b031, userId=] - Incoming request: method=GET, uri=/api/v1/tasks/focus, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: update tasks set created_at=?,deleted=?,description=?,due_date=?,intent_bucket_id=?,last_modified_at=?,user_id=?,priority=?,rationale=?,status=?,title=?,version=? where id=? and version=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? and t1_0.user_id=? and t1_0.status<>? order by t1_0.due_date,t1_0.priority desc offset ? rows fetch first ? rows only
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.deleted=? and t1_0.user_id=? and t1_0.status<>?
2026-02-01 23:02:20.406 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=d6f1489d-d951-4e79-87e4-f7f2ce66b031, userId=] - Focus Mode used by user: focusUser. Selected 5 tasks based on urgency and priority.
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.407 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d6f1489d-d951-4e79-87e4-f7f2ce66b031, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks/focus, status=200, duration=5ms
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.027 s -- in com.taskify.taskify.controller.FocusModeIntegrationTest
[INFO] Running com.taskify.taskify.controller.AuthControllerTest
2026-02-01 23:02:20.410 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.411 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.AuthControllerTest
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:20.415 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ff813e49-e23c-4944-9248-51591fc35776, userId=] - Incoming request: method=POST, uri=/api/v1/auth/register, clientIp=127.0.0.1
Hibernate: delete from users where id=?
2026-02-01 23:02:20.416 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=ff813e49-e23c-4944-9248-51591fc35776, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.416 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=ff813e49-e23c-4944-9248-51591fc35776, userId=] - Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:20.417 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=ff813e49-e23c-4944-9248-51591fc35776, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.existsByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.AuthServiceImpl.register(AuthServiceImpl.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.service.impl.AuthServiceImpl$$SpringCGLIB$$0.register(<generated>)
	at com.taskify.taskify.controller.v1.AuthController.register(AuthController.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.controller.AuthControllerTest.shouldRegisterUserSuccessfully(AuthControllerTest.java:62)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$ExistsExecution.doExecute(JpaQueryExecution.java:336)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 227 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 260 common frames omitted
2026-02-01 23:02:20.418 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ff813e49-e23c-4944-9248-51591fc35776, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/register, status=500, duration=3ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/auth/register
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"72"]
             Body = {"username":"testuser","email":"test@example.com","password":"password"}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.AuthController
           Method = com.taskify.taskify.controller.v1.AuthController#register(RegisterRequest)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"ff813e49-e23c-4944-9248-51591fc35776", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:20.417805","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/auth/register"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:20.424 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=87c2de64-195b-4914-85bb-d66dc372f061, userId=] - Incoming request: method=POST, uri=/api/v1/auth/register, clientIp=127.0.0.1
Hibernate: delete from users where id=?
2026-02-01 23:02:20.425 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=87c2de64-195b-4914-85bb-d66dc372f061, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.425 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=87c2de64-195b-4914-85bb-d66dc372f061, userId=] - Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:20.425 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=87c2de64-195b-4914-85bb-d66dc372f061, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.existsByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.AuthServiceImpl.register(AuthServiceImpl.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.service.impl.AuthServiceImpl$$SpringCGLIB$$0.register(<generated>)
	at com.taskify.taskify.controller.v1.AuthController.register(AuthController.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.controller.AuthControllerTest.shouldLoginSuccessfully(AuthControllerTest.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$ExistsExecution.doExecute(JpaQueryExecution.java:336)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 227 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 260 common frames omitted
2026-02-01 23:02:20.425 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=87c2de64-195b-4914-85bb-d66dc372f061, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/register, status=500, duration=1ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/auth/register
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"72"]
             Body = {"username":"testuser","email":"test@example.com","password":"password"}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.AuthController
           Method = com.taskify.taskify.controller.v1.AuthController#register(RegisterRequest)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"87c2de64-195b-4914-85bb-d66dc372f061", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:20.425312","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/auth/register"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:20.430 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=020c6cfb-55ad-4d09-8233-dce87e51a53e, userId=] - Incoming request: method=POST, uri=/api/v1/auth/login, clientIp=127.0.0.1
Hibernate: delete from users where id=?
2026-02-01 23:02:20.431 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=020c6cfb-55ad-4d09-8233-dce87e51a53e, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.431 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=020c6cfb-55ad-4d09-8233-dce87e51a53e, userId=] - Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:20.431 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=020c6cfb-55ad-4d09-8233-dce87e51a53e, userId=] - Unexpected error occurred
org.springframework.security.authentication.InternalAuthenticationServiceException: could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:136)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:136)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at com.taskify.taskify.service.impl.AuthServiceImpl.login(AuthServiceImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at com.taskify.taskify.service.impl.AuthServiceImpl$$SpringCGLIB$$0.login(<generated>)
	at com.taskify.taskify.controller.v1.AuthController.login(AuthController.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.controller.AuthControllerTest.shouldReturn401ForInvalidLogin(AuthControllerTest.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:35)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:121)
	... 219 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 226 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 259 common frames omitted
2026-02-01 23:02:20.431 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=020c6cfb-55ad-4d09-8233-dce87e51a53e, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/login, status=500, duration=1ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/auth/login
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"41"]
             Body = {"username":"invalid","password":"wrong"}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.AuthController
           Method = com.taskify.taskify.controller.v1.AuthController#login(LoginRequest)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.authentication.InternalAuthenticationServiceException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"020c6cfb-55ad-4d09-8233-dce87e51a53e", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:20.431343","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/auth/login"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
[ERROR] Tests run: 3, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.024 s <<< FAILURE! -- in com.taskify.taskify.controller.AuthControllerTest
[ERROR] com.taskify.taskify.controller.AuthControllerTest.shouldRegisterUserSuccessfully -- Time elapsed: 0.008 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.controller.AuthControllerTest.shouldRegisterUserSuccessfully(AuthControllerTest.java:65)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.controller.AuthControllerTest.shouldLoginSuccessfully -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.controller.AuthControllerTest.shouldLoginSuccessfully(AuthControllerTest.java:75)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.controller.AuthControllerTest.shouldReturn401ForInvalidLogin -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.controller.AuthControllerTest.shouldReturn401ForInvalidLogin(AuthControllerTest.java:94)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[INFO] Running com.taskify.taskify.controller.StagnantTasksIntegrationTest
2026-02-01 23:02:20.434 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.controller.StagnantTasksIntegrationTest]: StagnantTasksIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.435 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.StagnantTasksIntegrationTest
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.442 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=cdf20de3-f551-4a4f-adf7-972d0fcb9f82, userId=] - Incoming request: method=GET, uri=/api/v1/tasks/stagnant, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? and t1_0.user_id=? and t1_0.status<>? and (t1_0.due_date<? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<?) order by t1_0.last_modified_at offset ? rows fetch first ? rows only
2026-02-01 23:02:20.445 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=cdf20de3-f551-4a4f-adf7-972d0fcb9f82, userId=] - Stagnant Task detection for user: otherUser. Identified 0 tasks requiring attention.
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.446 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=cdf20de3-f551-4a4f-adf7-972d0fcb9f82, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks/stagnant, status=200, duration=4ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.453 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4da4dd5a-dc90-491f-bd31-2527c42ffa35, userId=] - Incoming request: method=GET, uri=/api/v1/tasks/stagnant, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? and t1_0.user_id=? and t1_0.status<>? and (t1_0.due_date<? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<?) order by t1_0.last_modified_at offset ? rows fetch first ? rows only
2026-02-01 23:02:20.455 DEBUG [main] c.t.t.service.impl.TaskServiceImpl - [correlationId=4da4dd5a-dc90-491f-bd31-2527c42ffa35, userId=] - Stagnant Task detection for user: stagnantUser. Identified 3 tasks requiring attention.
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.456 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=4da4dd5a-dc90-491f-bd31-2527c42ffa35, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks/stagnant, status=200, duration=3ms
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.028 s -- in com.taskify.taskify.controller.StagnantTasksIntegrationTest
[INFO] Running com.taskify.taskify.controller.DeprecationIntegrationTest
2026-02-01 23:02:20.463 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.controller.DeprecationIntegrationTest]: DeprecationIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.464 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.DeprecationIntegrationTest
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:20.468 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=06660424-ea8f-4348-91d0-2a48c33956de, userId=] - Incoming request: method=GET, uri=/api/v1/tasks/1, clientIp=127.0.0.1
2026-02-01 23:02:20.468 WARN  [main] c.t.t.config.DeprecationInterceptor - [correlationId=06660424-ea8f-4348-91d0-2a48c33956de, userId=] - Access to deprecated endpoint: method=GET, path=/api/v1/tasks/1, user=testuser
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id=?
2026-02-01 23:02:20.469 WARN  [main] c.t.t.e.GlobalExceptionHandler - [correlationId=06660424-ea8f-4348-91d0-2a48c33956de, userId=] - Task not found: Task Not Found with id 1
2026-02-01 23:02:20.469 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=06660424-ea8f-4348-91d0-2a48c33956de, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks/1, status=404, duration=1ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:20.474 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9db0503a-0661-4b28-923f-f76dc47e339e, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.476 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9db0503a-0661-4b28-923f-f76dc47e339e, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=2ms
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 s -- in com.taskify.taskify.controller.DeprecationIntegrationTest
[INFO] Running com.taskify.taskify.audit.AuditLoggingIntegrationTest
2026-02-01 23:02:20.479 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.audit.AuditLoggingIntegrationTest]: AuditLoggingIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.482 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.audit.AuditLoggingIntegrationTest
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select al1_0.id,al1_0.action,al1_0.actor_role,al1_0.actor_user_id,al1_0.ip_address,al1_0.metadata,al1_0.target_id,al1_0.target_type,al1_0.timestamp from audit_logs al1_0
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: delete from audit_logs where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from users where id=?
2026-02-01 23:02:20.488 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.488 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=, userId=] - Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select al1_0.id,al1_0.action,al1_0.actor_role,al1_0.actor_user_id,al1_0.ip_address,al1_0.metadata,al1_0.target_id,al1_0.target_type,al1_0.timestamp from audit_logs al1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from users where id=?
2026-02-01 23:02:20.493 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.494 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=, userId=] - Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
[ERROR] Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.017 s <<< FAILURE! -- in com.taskify.taskify.audit.AuditLoggingIntegrationTest
[ERROR] com.taskify.taskify.audit.AuditLoggingIntegrationTest.shouldCreateAuditLogAndCorrelationIdOnRegistration -- Time elapsed: 0.008 s <<< ERROR!
org.springframework.dao.DataIntegrityViolationException: 
could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:567)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.deleteAll(Unknown Source)
	at com.taskify.taskify.audit.AuditLoggingIntegrationTest.setUp(AuditLoggingIntegrationTest.java:65)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:563)
	... 16 more
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 36 more

[ERROR] com.taskify.taskify.audit.AuditLoggingIntegrationTest.shouldLogAuditOnLoginFailure -- Time elapsed: 0.004 s <<< ERROR!
org.springframework.dao.DataIntegrityViolationException: 
could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:567)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.deleteAll(Unknown Source)
	at com.taskify.taskify.audit.AuditLoggingIntegrationTest.setUp(AuditLoggingIntegrationTest.java:65)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:563)
	... 16 more
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 36 more

[INFO] Running com.taskify.taskify.task.TaskQueryIntegrationTest
2026-02-01 23:02:20.496 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.task.TaskQueryIntegrationTest]: TaskQueryIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.499 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.task.TaskQueryIntegrationTest
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.508 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b75fb909-e2c1-4639-b7e2-2ed4345801b8, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.511 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b75fb909-e2c1-4639-b7e2-2ed4345801b8, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=3ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.518 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e4e942e9-7b8e-4df3-8941-8df78806bb82, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.521 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e4e942e9-7b8e-4df3-8941-8df78806bb82, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=3ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.529 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b3fd2779-6e6b-4efa-b316-50d6ad01e482, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.status=? order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.532 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=b3fd2779-6e6b-4efa-b316-50d6ad01e482, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=3ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.539 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5b98364f-d66c-43e0-9435-1c11f2682179, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.542 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=5b98364f-d66c-43e0-9435-1c11f2682179, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=3ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.550 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ae25c45a-5a72-48aa-9b2b-f603bbe305ab, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:20.552 WARN  [main] c.t.t.e.GlobalExceptionHandler - [correlationId=ae25c45a-5a72-48aa-9b2b-f603bbe305ab, userId=] - Access denied: Only admins can fetch deleted tasks
2026-02-01 23:02:20.552 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ae25c45a-5a72-48aa-9b2b-f603bbe305ab, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=403, duration=2ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.560 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=78e1d7b0-d95c-40fe-a89f-56196ff9969d, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.562 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=78e1d7b0-d95c-40fe-a89f-56196ff9969d, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=2ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.569 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=31d90409-c6f5-4077-b546-4115c5410426, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? order by t1_0.priority desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.572 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=31d90409-c6f5-4077-b546-4115c5410426, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=3ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.580 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=04183664-1251-40a1-b8d7-9c52da72a009, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and (lower(t1_0.title) like ? escape '' or lower(t1_0.description) like ? escape '') order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.586 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=04183664-1251-40a1-b8d7-9c52da72a009, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=6ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.594 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ad9ccb16-b543-4006-95b9-e28bd6df0a04, userId=] - Incoming request: method=GET, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.priority=? order by t1_0.created_at desc offset ? rows fetch first ? rows only
2026-02-01 23:02:20.597 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=ad9ccb16-b543-4006-95b9-e28bd6df0a04, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks, status=200, duration=3ms
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.102 s -- in com.taskify.taskify.task.TaskQueryIntegrationTest
[INFO] Running com.taskify.taskify.task.TaskConcurrencyIntegrationTest
2026-02-01 23:02:20.599 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.task.TaskConcurrencyIntegrationTest]: TaskConcurrencyIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.600 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.task.TaskConcurrencyIntegrationTest
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: delete from tasks where id=? and version=?
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from users where id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:20.607 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e838507e-0d59-4b8a-9aca-51b2fdd4d024, userId=] - Incoming request: method=POST, uri=/api/v1/auth/register, clientIp=127.0.0.1
Hibernate: select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only
Hibernate: select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2026-02-01 23:02:20.683 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e838507e-0d59-4b8a-9aca-51b2fdd4d024, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/register, status=201, duration=76ms
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.684 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=bc52074a-b1a6-4c4b-b173-dafd7bffb4e1, userId=] - Incoming request: method=POST, uri=/api/v1/auth/login, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into refresh_tokens (expiry_date,revoked,token,user_id,id) values (?,?,?,?,default)
2026-02-01 23:02:20.760 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=bc52074a-b1a6-4c4b-b173-dafd7bffb4e1, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/login, status=200, duration=76ms
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select rt1_0.id,rt1_0.expiry_date,rt1_0.revoked,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,r1_0.user_id,r1_1.id,r1_1.name,u1_0.username from users u1_0 left join user_roles r1_0 on u1_0.id=r1_0.user_id left join roles r1_1 on r1_1.id=r1_0.role_id where u1_0.id=?
Hibernate: delete from refresh_tokens where id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: delete from user_roles where user_id=?
Hibernate: delete from users where id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
2026-02-01 23:02:20.766 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=7eb3ea1a-b5e7-4276-a32f-df906871d38e, userId=] - Incoming request: method=POST, uri=/api/v1/auth/register, clientIp=127.0.0.1
Hibernate: select u1_0.id from users u1_0 where u1_0.username=? fetch first ? rows only
Hibernate: select u1_0.id from users u1_0 where u1_0.email=? fetch first ? rows only
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:20.841 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=7eb3ea1a-b5e7-4276-a32f-df906871d38e, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/register, status=201, duration=75ms
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.842 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e16b2c94-714a-41dd-8435-3df413a58de3, userId=] - Incoming request: method=POST, uri=/api/v1/auth/login, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into refresh_tokens (expiry_date,revoked,token,user_id,id) values (?,?,?,?,default)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 23:02:20.916 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e16b2c94-714a-41dd-8435-3df413a58de3, userId=] - Outgoing response: method=POST, uri=/api/v1/auth/login, status=200, duration=74ms
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.918 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=596cbaec-9a66-45d7-a0aa-4436d0cd4d0b, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 23:02:20.921 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=596cbaec-9a66-45d7-a0aa-4436d0cd4d0b, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=3ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id=?
Hibernate: update tasks set created_at=?,deleted=?,description=?,due_date=?,intent_bucket_id=?,last_modified_at=?,user_id=?,priority=?,rationale=?,status=?,title=?,version=? where id=? and version=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.id=?
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.330 s -- in com.taskify.taskify.task.TaskConcurrencyIntegrationTest
[INFO] Running com.taskify.taskify.task.TaskIdempotencyIntegrationTest
2026-02-01 23:02:20.930 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.task.TaskIdempotencyIntegrationTest]: TaskIdempotencyIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.931 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.task.TaskIdempotencyIntegrationTest
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:20.945 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2e358a96-2fe8-4587-b9c2-92d101e9909a, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
2026-02-01 23:02:20.947 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=2e358a96-2fe8-4587-b9c2-92d101e9909a, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.947 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=2e358a96-2fe8-4587-b9c2-92d101e9909a, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:20.947 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=2e358a96-2fe8-4587-b9c2-92d101e9909a, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.controller.v1.TaskController.getCurrentUser(TaskController.java:93)
	at com.taskify.taskify.controller.v1.TaskController.createTask(TaskController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.controller.v1.TaskController$$SpringCGLIB$$0.createTask(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldRejectMismatchedPayloadWithSameKey(TaskIdempotencyIntegrationTest.java:157)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 229 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 262 common frames omitted
2026-02-01 23:02:20.947 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2e358a96-2fe8-4587-b9c2-92d101e9909a, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=500, duration=2ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/tasks
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Idempotency-Key:"c04736af-d23e-4750-b326-5cfd598ad71b", Content-Length:"132"]
             Body = {"title":"Task 1","description":"Desc","status":"PENDING","priority":"MEDIUM","dueDate":null,"rationale":null,"intentBucketId":null}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.TaskController
           Method = com.taskify.taskify.controller.v1.TaskController#createTask(TaskRequest, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"2e358a96-2fe8-4587-b9c2-92d101e9909a", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:20.947255","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/tasks"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:20.955 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=18a1590e-f06c-47aa-a059-02e06eca69c2, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
2026-02-01 23:02:20.957 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=18a1590e-f06c-47aa-a059-02e06eca69c2, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.957 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=18a1590e-f06c-47aa-a059-02e06eca69c2, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:20.957 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=18a1590e-f06c-47aa-a059-02e06eca69c2, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.service.impl.TaskServiceImpl.getCurrentUser(TaskServiceImpl.java:367)
	at com.taskify.taskify.service.impl.TaskServiceImpl.createTask(TaskServiceImpl.java:70)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.service.impl.TaskServiceImpl$$SpringCGLIB$$0.createTask(<generated>)
	at com.taskify.taskify.controller.v1.TaskController.createTask(TaskController.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.controller.v1.TaskController$$SpringCGLIB$$0.createTask(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldCreateTaskNormallyWhenKeyIsMissing(TaskIdempotencyIntegrationTest.java:208)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 240 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 273 common frames omitted
2026-02-01 23:02:20.958 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=18a1590e-f06c-47aa-a059-02e06eca69c2, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=500, duration=3ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/tasks
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"132"]
             Body = {"title":"No Key","description":"Desc","status":"PENDING","priority":"MEDIUM","dueDate":null,"rationale":null,"intentBucketId":null}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.TaskController
           Method = com.taskify.taskify.controller.v1.TaskController#createTask(TaskRequest, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"18a1590e-f06c-47aa-a059-02e06eca69c2", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:20.95733","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/tasks"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:20.963 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f4943738-2015-4f23-9d69-5e401d2c779f, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
2026-02-01 23:02:20.964 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=f4943738-2015-4f23-9d69-5e401d2c779f, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.964 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=f4943738-2015-4f23-9d69-5e401d2c779f, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:20.964 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=f4943738-2015-4f23-9d69-5e401d2c779f, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.controller.v1.TaskController.getCurrentUser(TaskController.java:93)
	at com.taskify.taskify.controller.v1.TaskController.createTask(TaskController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.controller.v1.TaskController$$SpringCGLIB$$0.createTask(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldCreateSeparateTasksWithDifferentKeys(TaskIdempotencyIntegrationTest.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 229 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 262 common frames omitted
2026-02-01 23:02:20.965 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f4943738-2015-4f23-9d69-5e401d2c779f, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=500, duration=2ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/tasks
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Idempotency-Key:"6cedbda3-71ed-4aba-b53e-9805505cc86d", Content-Length:"140"]
             Body = {"title":"Shared Payload","description":"Desc","status":"PENDING","priority":"MEDIUM","dueDate":null,"rationale":null,"intentBucketId":null}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.TaskController
           Method = com.taskify.taskify.controller.v1.TaskController#createTask(TaskRequest, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"f4943738-2015-4f23-9d69-5e401d2c779f", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:20.964501","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/tasks"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:20.972 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=50772f5c-e990-49bb-a7a6-0c208301680e, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
2026-02-01 23:02:20.974 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=50772f5c-e990-49bb-a7a6-0c208301680e, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.974 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=50772f5c-e990-49bb-a7a6-0c208301680e, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:20.974 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=50772f5c-e990-49bb-a7a6-0c208301680e, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.controller.v1.TaskController.getCurrentUser(TaskController.java:93)
	at com.taskify.taskify.controller.v1.TaskController.createTask(TaskController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.controller.v1.TaskController$$SpringCGLIB$$0.createTask(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldCreateTaskAndStoreResponseOnFirstRequest(TaskIdempotencyIntegrationTest.java:93)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 229 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 262 common frames omitted
2026-02-01 23:02:20.974 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=50772f5c-e990-49bb-a7a6-0c208301680e, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=500, duration=2ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/tasks
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Idempotency-Key:"821b4f6b-5bf8-43fe-a39d-71c758a0e365", Content-Length:"141"]
             Body = {"title":"Idempotent Task","description":"Desc","status":"PENDING","priority":"MEDIUM","dueDate":null,"rationale":null,"intentBucketId":null}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.TaskController
           Method = com.taskify.taskify.controller.v1.TaskController#createTask(TaskRequest, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"50772f5c-e990-49bb-a7a6-0c208301680e", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:20.974236","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/tasks"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join roles r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 23:02:20.979 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c5ae8cd5-a6e9-4b26-9639-4e832b1fddf0, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: delete from user_roles where user_id=?
Hibernate: insert into user_roles (user_id,role_id) values (?,?)
Hibernate: delete from tasks where id=? and version=?
Hibernate: delete from users where id=?
2026-02-01 23:02:20.981 WARN  [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=c5ae8cd5-a6e9-4b26-9639-4e832b1fddf0, userId=] - SQL Error: 23503, SQLState: 23503
2026-02-01 23:02:20.981 ERROR [main] o.h.e.jdbc.spi.SqlExceptionHelper - [correlationId=c5ae8cd5-a6e9-4b26-9639-4e832b1fddf0, userId=] - Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
2026-02-01 23:02:20.981 ERROR [main] c.t.t.e.GlobalExceptionHandler - [correlationId=c5ae8cd5-a6e9-4b26-9639-4e832b1fddf0, userId=] - Unexpected error occurred
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy178.findByUsername(Unknown Source)
	at com.taskify.taskify.controller.v1.TaskController.getCurrentUser(TaskController.java:93)
	at com.taskify.taskify.controller.v1.TaskController.createTask(TaskController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.taskify.taskify.controller.v1.TaskController$$SpringCGLIB$$0.createTask(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.taskify.taskify.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at com.taskify.taskify.security.CorrelationIdFilter.doFilter(CorrelationIdFilter.java:41)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldReturnStoredResponseOnDuplicateRequest(TaskIdempotencyIntegrationTest.java:116)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:280)
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:142)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 229 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "FK1LIH5Y2NPSF8U5O3VHDB9Y0OS: PUBLIC.REFRESH_TOKENS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(58 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:362)
	at org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:379)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:253)
	at org.h2.table.Table.fireConstraints(Table.java:1227)
	at org.h2.table.Table.fireAfterRow(Table.java:1245)
	at org.h2.command.dml.Delete.update(Delete.java:92)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 262 common frames omitted
2026-02-01 23:02:20.981 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c5ae8cd5-a6e9-4b26-9639-4e832b1fddf0, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=500, duration=2ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/v1/tasks
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Idempotency-Key:"305b334e-b41a-4893-b780-c42b97055629", Content-Length:"141"]
             Body = {"title":"Idempotent Task","description":"Desc","status":"PENDING","priority":"MEDIUM","dueDate":null,"rationale":null,"intentBucketId":null}
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.TaskController
           Method = com.taskify.taskify.controller.v1.TaskController#createTask(TaskRequest, String)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 500
    Error message = null
          Headers = [X-Correlation-ID:"c5ae8cd5-a6e9-4b26-9639-4e832b1fddf0", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"timestamp":"2026-02-01T23:02:20.981255","status":500,"error":"Internal Server Error","message":"Something went wrong. Please try again later.","path":"/api/v1/tasks"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
[ERROR] Tests run: 5, Failures: 5, Errors: 0, Skipped: 0, Time elapsed: 0.053 s <<< FAILURE! -- in com.taskify.taskify.task.TaskIdempotencyIntegrationTest
[ERROR] com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldRejectMismatchedPayloadWithSameKey -- Time elapsed: 0.017 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldRejectMismatchedPayloadWithSameKey(TaskIdempotencyIntegrationTest.java:161)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldCreateTaskNormallyWhenKeyIsMissing -- Time elapsed: 0.009 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldCreateTaskNormallyWhenKeyIsMissing(TaskIdempotencyIntegrationTest.java:211)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldCreateSeparateTasksWithDifferentKeys -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldCreateSeparateTasksWithDifferentKeys(TaskIdempotencyIntegrationTest.java:188)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldCreateTaskAndStoreResponseOnFirstRequest -- Time elapsed: 0.010 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldCreateTaskAndStoreResponseOnFirstRequest(TaskIdempotencyIntegrationTest.java:97)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[ERROR] com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldReturnStoredResponseOnDuplicateRequest -- Time elapsed: 0.006 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<500>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:61)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:128)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:640)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.taskify.taskify.task.TaskIdempotencyIntegrationTest.shouldReturnStoredResponseOnDuplicateRequest(TaskIdempotencyIntegrationTest.java:120)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[INFO] Running com.taskify.taskify.TaskifyApplicationTests
2026-02-01 23:02:20.984 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.TaskifyApplicationTests]: TaskifyApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.987 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.TaskifyApplicationTests
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 s -- in com.taskify.taskify.TaskifyApplicationTests
[INFO] Running com.taskify.taskify.actuator.ActuatorIntegrationTest
2026-02-01 23:02:20.990 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.actuator.ActuatorIntegrationTest]: ActuatorIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 23:02:20.993 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.actuator.ActuatorIntegrationTest
2026-02-01 23:02:21.000 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a3068e60-2881-46b2-84dc-9f2635bcd45f, userId=] - Incoming request: method=GET, uri=/actuator/metrics, clientIp=127.0.0.1
2026-02-01 23:02:21.004 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a3068e60-2881-46b2-84dc-9f2635bcd45f, userId=] - Outgoing response: method=GET, uri=/actuator/metrics, status=200, duration=4ms
2026-02-01 23:02:21.006 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f69f63ce-b109-403d-ab55-6d7c131f2c51, userId=] - Incoming request: method=GET, uri=/actuator/info, clientIp=127.0.0.1
2026-02-01 23:02:21.008 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=f69f63ce-b109-403d-ab55-6d7c131f2c51, userId=] - Outgoing response: method=GET, uri=/actuator/info, status=200, duration=2ms
2026-02-01 23:02:21.010 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=342d58a6-6d48-4075-a11b-578d44b840f6, userId=] - Incoming request: method=GET, uri=/actuator/health, clientIp=127.0.0.1
2026-02-01 23:02:21.020 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=342d58a6-6d48-4075-a11b-578d44b840f6, userId=] - Outgoing response: method=GET, uri=/actuator/health, status=200, duration=10ms
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.032 s -- in com.taskify.taskify.actuator.ActuatorIntegrationTest
[INFO] Running com.taskify.taskify.service.TaskServiceTest
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.539 s -- in com.taskify.taskify.service.TaskServiceTest
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   AuthControllerTest.shouldLoginSuccessfully:75 Status expected:<201> but was:<500>
[ERROR]   AuthControllerTest.shouldRegisterUserSuccessfully:65 Status expected:<201> but was:<500>
[ERROR]   AuthControllerTest.shouldReturn401ForInvalidLogin:94 Status expected:<401> but was:<500>
[ERROR]   IntentBucketIntegrationTest.shouldAssociateTaskWithIntent:147 Status expected:<201> but was:<500>
[ERROR]   IntentBucketIntegrationTest.shouldClearIntentOnDeletionButKeepTask:165 Status expected:<204> but was:<500>
[ERROR]   IntentBucketIntegrationTest.shouldCreateAndListIntents:94 Status expected:<201> but was:<500>
[ERROR]   IntentBucketIntegrationTest.shouldEnforceNameUniquenessPerUser:116 Status expected:<400> but was:<500>
[ERROR]   IntentBucketIntegrationTest.shouldGenerateOverviewWithInsights:198 Status expected:<200> but was:<500>
[ERROR]   IntentBucketIntegrationTest.shouldMaintainOwnershipIsolation:128 Status expected:<200> but was:<500>
[ERROR]   TaskIdempotencyIntegrationTest.shouldCreateSeparateTasksWithDifferentKeys:188 Status expected:<201> but was:<500>
[ERROR]   TaskIdempotencyIntegrationTest.shouldCreateTaskAndStoreResponseOnFirstRequest:97 Status expected:<201> but was:<500>
[ERROR]   TaskIdempotencyIntegrationTest.shouldCreateTaskNormallyWhenKeyIsMissing:211 Status expected:<201> but was:<500>
[ERROR]   TaskIdempotencyIntegrationTest.shouldRejectMismatchedPayloadWithSameKey:161 Status expected:<201> but was:<500>
[ERROR]   TaskIdempotencyIntegrationTest.shouldReturnStoredResponseOnDuplicateRequest:120 Status expected:<201> but was:<500>
[ERROR] Errors: 
[ERROR]   AuditLoggingIntegrationTest.setUp:65  DataIntegrityViolation could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
[ERROR]   AuditLoggingIntegrationTest.setUp:65  DataIntegrityViolation could not execute statement [Referential integrity constraint violation: "FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT))"; SQL statement:
delete from users where id=? [23503-232]] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [FK6S1OB9K4IHI75XBXE2W0YLSDH: PUBLIC.TASKS FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) (CAST(20 AS BIGINT)); SQL statement:
delete from users where id=? [23503-232]]
[INFO] 
[ERROR] Tests run: 66, Failures: 14, Errors: 2, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  8.781 s
[INFO] Finished at: 2026-02-01T23:02:21+05:30
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.5.4:test (default-test) on project taskify: There are test failures.
[ERROR] 
[ERROR] See /Users/vyb/Documents/Projects/taskify/target/surefire-reports for the individual test results.
[ERROR] See dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
