[INFO] Scanning for projects...
[INFO] 
[INFO] ------------------------< com.taskify:taskify >-------------------------
[INFO] Building taskify 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ taskify ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.14.1:compile (default-compile) @ taskify ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ taskify ---
[INFO] Copying 1 resource from src/test/resources to target/test-classes
[INFO] 
[INFO] --- compiler:3.14.1:testCompile (default-testCompile) @ taskify ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- surefire:3.5.4:test (default-test) @ taskify ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.taskify.taskify.controller.v1.IntentBucketIntegrationTest
22:58:50.845 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.taskify.taskify.controller.v1.IntentBucketIntegrationTest]: IntentBucketIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
22:58:50.926 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.controller.v1.IntentBucketIntegrationTest
22:58:51.005 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.7)

2026-02-01 22:58:51.157 INFO  [main] c.t.t.c.v.IntentBucketIntegrationTest - [correlationId=, userId=] - Starting IntentBucketIntegrationTest using Java 21.0.1 with PID 43429 (started by vyb in /Users/vyb/Documents/Projects/taskify)
2026-02-01 22:58:51.158 DEBUG [main] c.t.t.c.v.IntentBucketIntegrationTest - [correlationId=, userId=] - Running with Spring Boot v3.5.7, Spring v6.2.12
2026-02-01 22:58:51.158 INFO  [main] c.t.t.c.v.IntentBucketIntegrationTest - [correlationId=, userId=] - The following 1 profile is active: "test"
2026-02-01 22:58:51.708 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - [correlationId=, userId=] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-01 22:58:51.742 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - [correlationId=, userId=] - Finished Spring Data repository scanning in 29 ms. Found 8 JPA repository interfaces.
2026-02-01 22:58:52.028 INFO  [main] o.h.jpa.internal.util.LogHelper - [correlationId=, userId=] - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-01 22:58:52.056 INFO  [main] org.hibernate.Version - [correlationId=, userId=] - HHH000412: Hibernate ORM core version 6.6.33.Final
2026-02-01 22:58:52.072 INFO  [main] o.h.c.i.RegionFactoryInitiator - [correlationId=, userId=] - HHH000026: Second-level cache disabled
2026-02-01 22:58:52.193 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - [correlationId=, userId=] - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-01 22:58:52.205 INFO  [main] com.zaxxer.hikari.HikariDataSource - [correlationId=, userId=] - HikariPool-1 - Starting...
2026-02-01 22:58:52.296 INFO  [main] com.zaxxer.hikari.pool.HikariPool - [correlationId=, userId=] - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2026-02-01 22:58:52.298 INFO  [main] com.zaxxer.hikari.HikariDataSource - [correlationId=, userId=] - HikariPool-1 - Start completed.
2026-02-01 22:58:52.310 WARN  [main] org.hibernate.orm.deprecation - [correlationId=, userId=] - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-01 22:58:52.318 INFO  [main] o.hibernate.orm.connections.pooling - [correlationId=, userId=] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-01 22:58:52.762 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - [correlationId=, userId=] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: drop table if exists audit_logs cascade 
Hibernate: drop table if exists daily_intent_tasks cascade 
Hibernate: drop table if exists daily_intents cascade 
Hibernate: drop table if exists idempotency_keys cascade 
Hibernate: drop table if exists intent_buckets cascade 
Hibernate: drop table if exists refresh_tokens cascade 
Hibernate: drop table if exists roles cascade 
Hibernate: drop table if exists tasks cascade 
Hibernate: drop table if exists user_roles cascade 
Hibernate: drop table if exists users cascade 
Hibernate: create table audit_logs (actor_user_id bigint, id bigint generated by default as identity, timestamp timestamp(6) not null, actor_role varchar(255), ip_address varchar(255), metadata TEXT, target_id varchar(255), action enum ('DAILY_CHECK_IN_CREATE','DAILY_CHECK_IN_UPDATE','FOCUS_MODE_USAGE','INTENT_BUCKET_CREATE','INTENT_BUCKET_DELETE','LOGIN_FAILURE','LOGIN_SUCCESS','LOGOUT','STAGNANT_MODE_USAGE','TASK_CREATE','TASK_DELETE','TASK_UPDATE','TOKEN_REFRESH') not null, target_type enum ('AUTH','TASK','USER'), primary key (id))
Hibernate: create table daily_intent_tasks (daily_intent_id bigint not null, task_id bigint)
Hibernate: create table daily_intents (date date not null, created_at timestamp(6) not null, id bigint generated by default as identity, updated_at timestamp(6) not null, user_id bigint not null, note varchar(255), primary key (id), unique (user_id, date))
Hibernate: create table idempotency_keys (response_status integer not null, created_at timestamp(6) not null, expires_at timestamp(6) not null, id bigint generated by default as identity, user_id bigint not null, endpoint varchar(255) not null, idempotency_key varchar(255) not null, request_hash varchar(255) not null, response_body TEXT, primary key (id), constraint idx_idempotency_key_user unique (idempotency_key, user_id))
Hibernate: create table intent_buckets (version integer, created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), user_id bigint not null, description varchar(500), color varchar(255), name varchar(255) not null, primary key (id), unique (user_id, name))
Hibernate: create table refresh_tokens (revoked boolean not null, expiry_date timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint, token varchar(255) not null unique, primary key (id))
Hibernate: create table roles (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id))
Hibernate: create table tasks (deleted boolean not null, version integer, created_at timestamp(6), due_date timestamp(6), id bigint generated by default as identity, intent_bucket_id bigint, last_modified_at timestamp(6), user_id bigint not null, rationale varchar(500), description varchar(1000), title varchar(255) not null, priority enum ('HIGH','LOW','MEDIUM'), status enum ('COMPLETED','IN_PROGRESS','PENDING'), primary key (id))
Hibernate: create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
Hibernate: create table users (created_at timestamp(6), id bigint generated by default as identity, email varchar(255) not null, password varchar(255) not null, username varchar(255) not null, primary key (id), unique (username), unique (email))
Hibernate: alter table if exists daily_intent_tasks add constraint FK7svgswbqu8wenph5sih4su3x0 foreign key (daily_intent_id) references daily_intents
Hibernate: alter table if exists refresh_tokens add constraint FK1lih5y2npsf8u5o3vhdb9y0os foreign key (user_id) references users
Hibernate: alter table if exists tasks add constraint FK5sb4jslui6srum0s1vlhlo8pi foreign key (intent_bucket_id) references intent_buckets
Hibernate: alter table if exists tasks add constraint FK6s1ob9k4ihi75xbxe2w0ylsdh foreign key (user_id) references users
Hibernate: alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
Hibernate: alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2026-02-01 22:58:52.791 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - [correlationId=, userId=] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-01 22:58:52.989 INFO  [main] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - [correlationId=, userId=] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-02-01 22:58:53.144 INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - [correlationId=, userId=] - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-01 22:58:53.426 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [correlationId=, userId=] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-01 22:58:53.625 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - [correlationId=, userId=] - Exposing 3 endpoints beneath base path '/actuator'
2026-02-01 22:58:53.810 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'dailyCheckIn' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 22:58:53.812 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'taskVersions' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 22:58:53.812 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'intentOverview' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 22:58:53.813 WARN  [main] i.m.c.i.b.cache.CaffeineCacheMetrics - [correlationId=, userId=] - The cache 'weeklyReview' is not recording statistics. No meters except 'cache.size' will be registered. Call 'Caffeine#recordStats()' prior to building the cache for metrics to be recorded.
2026-02-01 22:58:53.886 DEBUG [main] c.t.t.s.JwtAuthenticationFilter - [correlationId=, userId=] - Filter 'jwtAuthenticationFilter' configured for use
2026-02-01 22:58:53.886 DEBUG [main] c.t.taskify.security.RateLimitFilter - [correlationId=, userId=] - Filter 'rateLimitFilter' configured for use
2026-02-01 22:58:53.886 DEBUG [main] c.t.t.security.RequestLoggingFilter - [correlationId=, userId=] - Filter 'requestLoggingFilter' configured for use
2026-02-01 22:58:53.887 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext - [correlationId=, userId=] - Initializing Spring TestDispatcherServlet ''
2026-02-01 22:58:53.887 INFO  [main] o.s.t.w.s.TestDispatcherServlet - [correlationId=, userId=] - Initializing Servlet ''
2026-02-01 22:58:53.887 INFO  [main] o.s.t.w.s.TestDispatcherServlet - [correlationId=, userId=] - Completed initialization in 0 ms
2026-02-01 22:58:53.921 INFO  [main] c.t.t.c.v.IntentBucketIntegrationTest - [correlationId=, userId=] - Started IntentBucketIntegrationTest in 2.921 seconds (process running for 3.505)
Mockito is currently self-attaching to enable the inline-mock-maker. This will no longer work in future releases of the JDK. Please add Mockito as an agent to your build as described in Mockito's documentation: https://javadoc.io/doc/org.mockito/mockito-core/latest/org.mockito/org/mockito/Mockito.html#0.3
WARNING: A Java agent has been loaded dynamically (/Users/vyb/.m2/repository/net/bytebuddy/byte-buddy-agent/1.17.8/byte-buddy-agent-1.17.8.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.393 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d2439e1c-be8a-4160-b367-d6d8d0d3e829, userId=] - Incoming request: method=GET, uri=/api/v1/intents/overview, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0 where ib1_0.user_id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.deleted=? and t1_0.user_id=? and t1_0.status<>? order by t1_0.due_date,t1_0.priority desc offset ? rows fetch first ? rows only
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.intent_bucket_id=?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.intent_bucket_id=? and t1_0.status=?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.intent_bucket_id=? and t1_0.status<>? and (t1_0.due_date<? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<?)
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.intent_bucket_id=?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.intent_bucket_id=? and t1_0.status=?
Hibernate: select count(t1_0.id) from tasks t1_0 where t1_0.user_id=? and t1_0.deleted=? and t1_0.intent_bucket_id=? and t1_0.status<>? and (t1_0.due_date<? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<? or t1_0.status=? and t1_0.last_modified_at<?)
2026-02-01 22:58:54.425 DEBUG [main] c.t.t.s.impl.IntentBucketServiceImpl - [correlationId=d2439e1c-be8a-4160-b367-d6d8d0d3e829, userId=] - Generated Intent Overview for user: user1. Analyzed 2 buckets.
2026-02-01 22:58:54.447 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d2439e1c-be8a-4160-b367-d6d8d0d3e829, userId=] - Outgoing response: method=GET, uri=/api/v1/intents/overview, status=200, duration=54ms

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/v1/intents/overview
       Parameters = {}
          Headers = []
             Body = null
    Session Attrs = {}

Handler:
             Type = com.taskify.taskify.controller.v1.IntentBucketController
           Method = com.taskify.taskify.controller.v1.IntentBucketController#getOverview()

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [X-Correlation-ID:"d2439e1c-be8a-4160-b367-d6d8d0d3e829", Content-Type:"application/json", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = application/json
             Body = {"insights":[{"id":1,"name":"Career","totalTasks":2,"completedTasks":1,"stagnantTasks":0,"focusPrevalence":0.5},{"id":2,"name":"Health","totalTasks":1,"completedTasks":0,"stagnantTasks":1,"focusPrevalence":0.5}]}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.483 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=23c2c64d-f551-4c64-8b2f-18b48de3e5ef, userId=] - Incoming request: method=GET, uri=/api/v1/intents, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0 where ib1_0.user_id=?
2026-02-01 22:58:54.486 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=23c2c64d-f551-4c64-8b2f-18b48de3e5ef, userId=] - Outgoing response: method=GET, uri=/api/v1/intents, status=200, duration=3ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.497 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a4a4e86f-4077-48b8-b132-23e5584cbcbf, userId=] - Incoming request: method=DELETE, uri=/api/v1/intents/4, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0 where ib1_0.id=? and ib1_0.user_id=?
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0 where t1_0.intent_bucket_id=?
2026-02-01 22:58:54.506 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=a4a4e86f-4077-48b8-b132-23e5584cbcbf, userId=] - Outgoing response: method=DELETE, uri=/api/v1/intents/4, status=204, duration=9ms
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.510 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d9a1af2f-fa36-4b7e-93ec-bdf28ab082a2, userId=] - Incoming request: method=GET, uri=/api/v1/tasks/4, clientIp=127.0.0.1
2026-02-01 22:58:54.510 WARN  [main] c.t.t.config.DeprecationInterceptor - [correlationId=d9a1af2f-fa36-4b7e-93ec-bdf28ab082a2, userId=] - Access to deprecated endpoint: method=GET, path=/api/v1/tasks/4, user=user1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
2026-02-01 22:58:54.523 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=d9a1af2f-fa36-4b7e-93ec-bdf28ab082a2, userId=] - Outgoing response: method=GET, uri=/api/v1/tasks/4, status=200, duration=13ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.535 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1aaf0290-b7b1-464d-b759-2915dd4d2953, userId=] - Incoming request: method=POST, uri=/api/v1/intents, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ib1_0.id from intent_buckets ib1_0 where ib1_0.user_id=? and ib1_0.name=? fetch first ? rows only
2026-02-01 22:58:54.561 WARN  [main] c.t.t.e.GlobalExceptionHandler - [correlationId=1aaf0290-b7b1-464d-b759-2915dd4d2953, userId=] - Invalid argument: Intent bucket with name 'Family' already exists
2026-02-01 22:58:54.564 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=1aaf0290-b7b1-464d-b759-2915dd4d2953, userId=] - Outgoing response: method=POST, uri=/api/v1/intents, status=400, duration=29ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.575 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=dd274a6c-bdad-4519-87fd-a25841cbc707, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0 where ib1_0.id=? and ib1_0.user_id=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.584 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=dd274a6c-bdad-4519-87fd-a25841cbc707, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=9ms
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 22:58:54.593 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=15c41c03-698d-4905-bcbb-640a53891bd2, userId=] - Incoming request: method=POST, uri=/api/v1/intents, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ib1_0.id from intent_buckets ib1_0 where ib1_0.user_id=? and ib1_0.name=? fetch first ? rows only
Hibernate: insert into intent_buckets (color,created_at,description,name,updated_at,user_id,version,id) values (?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.597 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=15c41c03-698d-4905-bcbb-640a53891bd2, userId=] - Outgoing response: method=POST, uri=/api/v1/intents, status=201, duration=4ms
2026-02-01 22:58:54.598 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e958fad3-f51d-4152-9676-005ef7b145df, userId=] - Incoming request: method=GET, uri=/api/v1/intents, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ib1_0.id,ib1_0.color,ib1_0.created_at,ib1_0.description,ib1_0.name,ib1_0.updated_at,ib1_0.user_id,ib1_0.version from intent_buckets ib1_0 where ib1_0.user_id=?
2026-02-01 22:58:54.600 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=e958fad3-f51d-4152-9676-005ef7b145df, userId=] - Outgoing response: method=GET, uri=/api/v1/intents, status=200, duration=2ms
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.827 s -- in com.taskify.taskify.controller.v1.IntentBucketIntegrationTest
[INFO] Running com.taskify.taskify.task.TaskIdempotencyIntegrationTest
2026-02-01 22:58:54.606 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils - [correlationId=, userId=] - Could not detect default configuration classes for test class [com.taskify.taskify.task.TaskIdempotencyIntegrationTest]: TaskIdempotencyIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-01 22:58:54.610 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper - [correlationId=, userId=] - Found @SpringBootConfiguration com.taskify.taskify.TaskifyApplication for test class com.taskify.taskify.task.TaskIdempotencyIntegrationTest
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 22:58:54.620 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=54941a0d-9547-4df0-9e4d-6abbbc0b5d0e, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0 where ik1_0.idempotency_key=? and ik1_0.user_id=? and ik1_0.endpoint=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: insert into idempotency_keys (created_at,endpoint,expires_at,idempotency_key,request_hash,response_body,response_status,user_id,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.630 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=54941a0d-9547-4df0-9e4d-6abbbc0b5d0e, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=10ms
2026-02-01 22:58:54.632 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9e13b336-c994-4f9a-b303-f84fb75f663d, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0 where ik1_0.idempotency_key=? and ik1_0.user_id=? and ik1_0.endpoint=?
2026-02-01 22:58:54.634 WARN  [main] c.t.t.e.GlobalExceptionHandler - [correlationId=9e13b336-c994-4f9a-b303-f84fb75f663d, userId=] - Idempotency error: Idempotency key reused with a different request payload.
2026-02-01 22:58:54.635 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=9e13b336-c994-4f9a-b303-f84fb75f663d, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=409, duration=3ms
Hibernate: select count(*) from tasks t1_0
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 22:58:54.684 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8bfbc800-4955-413b-ae9e-e1488e66b3b4, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.686 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8bfbc800-4955-413b-ae9e-e1488e66b3b4, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=2ms
2026-02-01 22:58:54.687 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=683aca94-d353-4a40-a172-4ae2ead485fe, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.689 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=683aca94-d353-4a40-a172-4ae2ead485fe, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=2ms
Hibernate: select count(*) from tasks t1_0
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 22:58:54.698 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2ba29cf4-77e7-49a8-8cc9-757a20fbbeca, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0 where ik1_0.idempotency_key=? and ik1_0.user_id=? and ik1_0.endpoint=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: insert into idempotency_keys (created_at,endpoint,expires_at,idempotency_key,request_hash,response_body,response_status,user_id,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.707 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2ba29cf4-77e7-49a8-8cc9-757a20fbbeca, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=9ms
2026-02-01 22:58:54.708 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2fb6aa99-b21a-47cc-a494-abdf8c6c3b25, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0 where ik1_0.idempotency_key=? and ik1_0.user_id=? and ik1_0.endpoint=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into idempotency_keys (created_at,endpoint,expires_at,idempotency_key,request_hash,response_body,response_status,user_id,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.712 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=2fb6aa99-b21a-47cc-a494-abdf8c6c3b25, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=4ms
Hibernate: select count(*) from tasks t1_0
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 22:58:54.720 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=85e4b3cc-5439-4046-978c-5919aba8450c, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0 where ik1_0.idempotency_key=? and ik1_0.user_id=? and ik1_0.endpoint=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into idempotency_keys (created_at,endpoint,expires_at,idempotency_key,request_hash,response_body,response_status,user_id,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.725 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=85e4b3cc-5439-4046-978c-5919aba8450c, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=5ms
Hibernate: select count(*) from tasks t1_0
Hibernate: select count(*) from idempotency_keys ik1_0
Hibernate: select t1_0.id,t1_0.created_at,t1_0.deleted,t1_0.description,t1_0.due_date,t1_0.intent_bucket_id,t1_0.last_modified_at,t1_0.user_id,t1_0.priority,t1_0.rationale,t1_0.status,t1_0.title,t1_0.version from tasks t1_0
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0
Hibernate: select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?
Hibernate: insert into roles (name,id) values (?,default)
Hibernate: insert into users (created_at,email,password,username,id) values (?,?,?,?,default)
2026-02-01 22:58:54.736 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8245a5b3-9f37-4862-ac95-857eeb507f9d, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0 where ik1_0.idempotency_key=? and ik1_0.user_id=? and ik1_0.endpoint=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: insert into tasks (created_at,deleted,description,due_date,intent_bucket_id,last_modified_at,user_id,priority,rationale,status,title,version,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into audit_logs (action,actor_role,actor_user_id,ip_address,metadata,target_id,target_type,timestamp,id) values (?,?,?,?,?,?,?,?,default)
Hibernate: insert into idempotency_keys (created_at,endpoint,expires_at,idempotency_key,request_hash,response_body,response_status,user_id,id) values (?,?,?,?,?,?,?,?,default)
2026-02-01 22:58:54.740 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=8245a5b3-9f37-4862-ac95-857eeb507f9d, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=4ms
2026-02-01 22:58:54.741 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c2382f5d-cd54-4e48-9f44-affba84145e2, userId=] - Incoming request: method=POST, uri=/api/v1/tasks, clientIp=127.0.0.1
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select ik1_0.id,ik1_0.created_at,ik1_0.endpoint,ik1_0.expires_at,ik1_0.idempotency_key,ik1_0.request_hash,ik1_0.response_body,ik1_0.response_status,ik1_0.user_id from idempotency_keys ik1_0 where ik1_0.idempotency_key=? and ik1_0.user_id=? and ik1_0.endpoint=?
2026-02-01 22:58:54.746 INFO  [main] c.t.t.security.RequestLoggingFilter - [correlationId=c2382f5d-cd54-4e48-9f44-affba84145e2, userId=] - Outgoing response: method=POST, uri=/api/v1/tasks, status=201, duration=5ms
Hibernate: select count(*) from tasks t1_0
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.144 s -- in com.taskify.taskify.task.TaskIdempotencyIntegrationTest
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  5.074 s
[INFO] Finished at: 2026-02-01T22:58:54+05:30
[INFO] ------------------------------------------------------------------------
